(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{304:function(t,e){},327:function(t,e,a){t.exports=a(712)},332:function(t,e,a){},342:function(t,e,a){},700:function(t,e){},701:function(t,e){},712:function(t,e,a){"use strict";a.r(e);var r=a(1),l=a.n(r),n=a(10),o=a.n(n),i=(a(332),a(334),a(324)),c=(a(113),a(43)),s=(a(148),a(56)),u=(a(339),a(78)),d=a(14),f=a(89),v=a(90),y=a(98),m=a(91),p=a(97),h=(a(342),a(715),a(211)),b=(a(307),a(57)),x=(a(714),a(323)),j=(a(149),a(76)),D=a(110),O=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).compareToStartDate=function(t,e,r){var l=a.props.form;e&&e<l.getFieldValue("startDate")?r("\u7ed3\u675f\u65f6\u95f4\u5e94\u5927\u4e8e\u5f00\u59cb\u65f6\u95f4!"):r()},a.compareToEndDate=function(t,e,r){var l=a.props.form;e&&e>l.getFieldValue("endDate")?r("\u5f00\u59cb\u65f6\u95f4\u5e94\u5c0f\u4e8e\u7ed3\u675f\u65f6\u95f4!"):r()},a.state={fileList:[]},a.startStatistic=a.startStatistic.bind(Object(D.a)(Object(D.a)(a))),a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"validateForm",value:function(){var t=this;return new Promise(function(e,a){t.props.form.validateFields(function(t,r){t?a():e()})})}},{key:"startStatistic",value:function(){var t=this;this.validateForm().then(function(){var e=t.props.form,a=new Date(e.getFieldValue("startDate").set({hour:0,minute:0,second:0})),r=new Date(e.getFieldValue("endDate").set({hour:23,minute:59,second:59}));t.props.onStart(t.state.fileList,a,r)}).catch(function(){})}},{key:"render",value:function(){var t=this,e=this.props.form.getFieldDecorator;return l.a.createElement(b.a,{layout:"horizontal"},l.a.createElement(c.a,null,l.a.createElement(s.a,{span:12},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u6587\u4ef6",labelCol:{span:8},wrapperCol:{span:16}},e("files",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u6587\u4ef6!"}]})(l.a.createElement(x.a,{accept:".xls,xlsx",multiple:!0,fileList:this.state.fileList,beforeUpload:function(e){return t.setState(function(t){var a=t.fileList;return{fileList:Object(d.a)(a).concat([e])}}),!1},onRemove:function(e){t.setState(function(t){var a=t.fileList,r=a.indexOf(e),l=a.slice();return l.splice(r,1),{fileList:l}})}},l.a.createElement(j.a,null,"\u652f\u6301\u6587\u4ef6\u683c\u5f0f: .xls, .xlsx")))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},e("startDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4"},{validator:this.compareToEndDate}]})(l.a.createElement(h.a,null)))),l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},e("endDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4"},{validator:this.compareToStartDate}]})(l.a.createElement(h.a,null))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{offset:4},l.a.createElement(j.a,{loading:this.props.loading,type:"primary",onClick:this.startStatistic},this.props.loading?"\u6b63\u5728\u7edf\u8ba1...":"\u5f00\u59cb\u7edf\u8ba1"))))}}]),e}(l.a.Component);O.defaultPorps={onStart:function(){},onExport:function(){}};var E=b.a.create()(O),S=a(212),g=a(207),w=a.n(g),R=a(16),P=a.n(R),T=(a(575),a(592),a(598),a(608),a(613),a(624),a(625),"\u53d7\u7406"),A="\u5269\u4f59\u672a\u5173",C="\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09",N="\u672a\u5173\u65f6\u957f\uff08\u5929\uff09",F="\u62a5\u4e8b\u65f6\u95f4",H="\u9879\u76ee",k="\u7edf\u8ba1\u9879\u76ee",_="\u5408\u8ba1",G="\u65b0\u589e\u5173\u95ed\u7387",I="\u9057\u7559\u5173\u95ed\u7387",Y="\u603b\u4f53\u5173\u95ed\u7387",B="\u53ca\u65f6\u5173\u95ed\u7387",L="\u7d2f\u8ba1\u603b\u4f53\u5173\u95ed\u7387",V=[I,G,Y,B,L],M="\u5927\u533a",W="\u57ce\u5e02\u516c\u53f8",X="\u9879\u76ee",q="\u9879\u76ee\u5206\u671f",z="\u5f53\u524d\u5de5\u5355\u72b6\u6001",U="\u62a5\u4e8b\u65f6\u95f4",J="\u5df2\u54cd\u5e94",K="\u65b9\u6848\u5236\u5b9a\u4e2d",Q="\u65b9\u6848\u5df2\u6279\u51c6",Z="\u65e0\u6548",$="\u5df2\u5173\u95ed",tt="\u5f3a\u5236\u5173\u95ed",et="\u975e\u6b63\u5e38\u5173\u95ed",at="\u5df2\u5206\u6d3e",rt="\u65bd\u5de5\u4e2d",lt="\u65bd\u5de5\u5b8c\u6210",nt="\u5df2\u4e0a\u95e8",ot="\u5df2\u8bc4\u4ef7",it="\u65b0\u5efa",ct=["\u571f\u5efa","\u7ef4\u4fee-\u5176\u4ed6\u7c7b","\u673a\u7535","\u5ba4\u5185\u7cbe\u88c5","\u5ba4\u5185\u95e8\u7a97\u53ca\u5165\u6237\u95e8","\u53a8\u623f\u8bbe\u5907","\u536b\u751f\u8bbe\u5907","\u6e17\u6f0f","\u5ba4\u5185\u7535\u5668","\u516c\u533a\u90e8\u5206","\u672a\u5206\u7c7b"],st=[T,A,"\u6682\u505c\u5904\u7406","\u65e0\u6548","\u5173\u95ed","\u6b63\u5e38\u5173\u95ed","\u975e\u6b63\u5e38\u5173\u95ed","\u53ca\u65f6\u5173\u95ed","\u672a\u54cd\u5e94",C,N];var ut=function(t){var e={left:"center",top:0,textStyle:{color:"#000000"}},a={feature:{saveAsImage:{show:!0}},right:40},r={margin:"40px 0",height:"500px"},n=[],o=[];for(var i in t.cityGraphData.cityCategoryCloseAverageHandleTimeData)o=Object(d.a)(o).concat([i]),n=Object(d.a)(n).concat([{name:i,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.cityGraphData.cityCategoryCloseAverageHandleTimeData[i]}]);var s=[],u=[];for(var f in t.citySecondCategoryOpenAverageHandleTimeData)u=Object(d.a)(u).concat([f]),s=Object(d.a)(s).concat([{name:f,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.citySecondCategoryOpenAverageHandleTimeData[f]}]);return l.a.createElement("div",null,l.a.createElement(c.a,null,l.a.createElement(w.a,{style:r,echarts:P.a,option:{title:Object(S.a)({text:"\u5404\u57ce\u5e02\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387"},e),tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:a,xAxis:[{type:"category",data:t.allCities,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"\u7d2f\u8ba1\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u7d2f\u8ba1\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.cityGraphData.cityTotalAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,formatter:"{c}"},data:t.cityGraphData.cityOverallCloseRateData}]}})),l.a.createElement(c.a,null,l.a.createElement(w.a,{style:r,echarts:P.a,option:{title:Object(S.a)({text:"\u5404\u9879\u76ee\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387"},e),tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:a,xAxis:[{type:"category",data:t.allProjects,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u7d2f\u8ba1\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u7d2f\u8ba1\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#000",show:!0,formatter:"{c}"},data:t.projectGraphData.projectTotalAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:t.projectGraphData.projectOverallCloseRateData}]}})))},dt=(a(297),a(64)),ft=(a(713),a(146));function vt(t){var e=l.a.createElement(ft.a.Column,{dataIndex:H,title:H,key:H,width:300}),a=[k].concat(Object(d.a)(ct),[_]).map(function(t){return l.a.createElement(ft.a.Column,{dataIndex:t,title:t,key:t,width:300})});return l.a.createElement(ft.a,{title:function(e){return t.title},dataSource:t.filteredProjects.length>0?t.data.filter(function(e){return-1!==t.filteredProjects.indexOf(e[H])}):t.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},e,a)}vt.defaultProps={filteredProjects:[]};var yt=vt,mt=a(208),pt=a.n(mt);function ht(t){var e=[],a=0;for(var r in t){var l=!0,n=!1,o=void 0;try{for(var i,c=st[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,u={};a++,u.key=a,u[H]=r,u[k]=s;for(var f=Object(d.a)(ct).concat([_]),v=0;v<f.length;v++){var y=f[v];u[y]=t[r][y][s]}e.push(u)}}catch(m){n=!0,o=m}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e}function bt(t){var e=[],a=0;for(var r in t){var l=!0,n=!1,o=void 0;try{for(var i,c=V[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,u={};a++,u.key=a,u[H]=r,u[k]=s;for(var f=Object(d.a)(ct).concat([_]),v=0;v<f.length;v++){var y=f[v];u[y]=t[r][y][s]}e.push(u)}}catch(m){n=!0,o=m}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e}var xt=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).filterProjects=function(t){t.length>0?a.setState({filteredProjects:t}):a.setState({filteredProjects:[]})},a.state={filteredProjects:[]},a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=[];for(var e in this.props.data)for(var a in this.props.data[e])-1===t.indexOf(a)&&(t=Object(d.a)(t).concat([a]));return l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(c.a,null,l.a.createElement(s.a,{span:16},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u8fc7\u6ee4\u7684\u9879\u76ee",labelCol:{span:4},wrapperCol:{span:16}},l.a.createElement(dt.a,{mode:"multiple",style:{width:"100%"},onChange:this.filterProjects},t.map(function(t){return l.a.createElement(dt.a.Option,{key:t},t)})))))),l.a.createElement(c.a,null,l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e",data:ht(this.props.data.periodNewAddedResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",data:ht(this.props.data.thisYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",data:ht(this.props.data.thisYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u672c\u5e74\u5ea6\u7d2f\u8ba1",data:ht(this.props.data.thisYearTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",data:ht(this.props.data.lastYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",data:ht(this.props.data.lastYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u9700\u5904\u7406",data:ht(this.props.data.beforePeriodNeedHandleResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u7d2f\u8ba1",data:ht(this.props.data.periodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(yt,{title:"\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185",data:bt(this.props.data.rateResult),filteredProjects:this.state.filteredProjects}))))}}]),e}(l.a.Component);xt.defaultProps={data:{}};var jt=xt,Dt=a(204),Ot=a.n(Dt),Et=a(11),St=a.n(Et),gt=(a(702),a(141)),wt=function(){for(var t={},e=Object(d.a)(ct).concat([_]),a=0;a<e.length;a++){var r=e[a];t[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=st[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;t[r][s]=0}}catch(u){n=!0,o=u}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t},Rt=function(){for(var t={},e=Object(d.a)(ct).concat([_]),a=0;a<e.length;a++){var r=e[a];t[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=V[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;t[r][s]=0}}catch(u){n=!0,o=u}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t},Pt=function(t){return t["\u4e00\u7ea7\u62a5\u4e8b\u5206\u7c7b"]||"\u672a\u5206\u7c7b"};var Tt=function(t,e,a){for(var r in t)for(var l in null==a[r]&&(a[r]=Rt()),a[r])t[r][l][T]>0&&(e===G?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l][T]).toFixed(4):e===I?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l][T]).toFixed(4):e===Y?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l][T]).toFixed(4):e===B?a[r][l][e]=(t[r][l]["\u53ca\u65f6\u5173\u95ed"]/t[r][l][T]).toFixed(4):e===L&&(a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l][T]).toFixed(4)))},At=function(t,e,a,r,l,n,o,i){var c=St()(l).set({month:0,date:1,hour:0,minute:0,second:0}),s={};s.periodNewAddedResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(dt){i=!0,c=dt}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z],D=St()(p[U]),O=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),E=St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);j!==J&&j!==K&&j!==$&&j!==lt&&j!==nt&&j!==tt&&j!==Q&&j!==ot&&j!==rt&&j!==et&&j!==at&&j!==it||x[T]++,(j===$||j===tt||j===ot||j===et)&&E>=e&&E<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x[C]=x[C]+St.a.duration(E.diff(D)).subtract(O,"days").as("days")),(j===J||j===K||j===lt||j===nt||j===Q||j===at||j===it||(j===$||j===tt||j===ot||j===et)&&E>a)&&(x[A]++,x[N]=x[N]+St.a.duration(St()(a).diff(D)).subtract(O,"days").as("days")),O>0&&x["\u6682\u505c\u5904\u7406"]++,j===$&&E>=e&&E<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,j===et&&E>=e&&E<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,j!==at&&j!==it||x["\u672a\u54cd\u5e94"]++,j===Z&&x["\u65e0\u6548"]++}}catch(dt){f=!0,v=dt}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var S in n){var g=!0,w=!1,R=void 0;try{for(var P,F=st[Symbol.iterator]();!(g=(P=F.next()).done);g=!0){var H=P.value,k=!0,G=!1,I=void 0;try{for(var Y,B=ct[Symbol.iterator]();!(k=(Y=B.next()).done);k=!0){var L=Y.value;n[S][_][H]+=n[S][L][H]}}catch(dt){G=!0,I=dt}finally{try{k||null==B.return||B.return()}finally{if(G)throw I}}}}catch(dt){w=!0,R=dt}finally{try{g||null==F.return||F.return()}finally{if(w)throw R}}}for(var V in n)for(var M in n[V]){var W=n[V][M]["\u5173\u95ed"],X=n[V][M][C];n[V][M][C]=W>0?Number(X/W).toFixed(2):0;var q=n[V][M][N],ut=n[V][M][A];n[V][M][N]=ut>0?Number(q/ut).toFixed(2):0}return n}(t,l,n,o,i),s.thisYearBeforePeriodResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(dt){i=!0,c=dt}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z],D=St()(p[U]),O=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),E=St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(j===J||j===K||j===lt||j===nt||j===Q||j===rt||j===at||j===it||(j===$||j===tt||j===et||j===ot)&&E>=e)&&x[T]++,(j===$||j===tt||j===ot||j===et)&&E>=e&&E<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x[C]=x[C]+St.a.duration(E.diff(D)).subtract(O,"days").as("days")),(j===J||j===K||j===lt||j===nt||j===Q||j===at||j===it||(j===$||j===tt||j===ot||j===et)&&E>a)&&(x[A]++,x[N]=x[N]+St.a.duration(St()(a).diff(D)).subtract(O,"days").as("days")),O>0&&x["\u6682\u505c\u5904\u7406"]++,j===$&&E>=e&&E<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,j===et&&E>=e&&E<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,j!==at&&j!==it||x["\u672a\u54cd\u5e94"]++,j===Z&&x["\u65e0\u6548"]++}}catch(dt){f=!0,v=dt}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var S in n){var g=!0,w=!1,R=void 0;try{for(var P,F=st[Symbol.iterator]();!(g=(P=F.next()).done);g=!0){var H=P.value,k=!0,G=!1,I=void 0;try{for(var Y,B=ct[Symbol.iterator]();!(k=(Y=B.next()).done);k=!0){var L=Y.value;n[S][_][H]+=n[S][L][H]}}catch(dt){G=!0,I=dt}finally{try{k||null==B.return||B.return()}finally{if(G)throw I}}}}catch(dt){w=!0,R=dt}finally{try{g||null==F.return||F.return()}finally{if(w)throw R}}}for(var V in n)for(var M in n[V]){var W=n[V][M]["\u5173\u95ed"],X=n[V][M][C];n[V][M][C]=W>0?Number(X/W).toFixed(2):0;var q=n[V][M][N],ut=n[V][M][A];n[V][M][N]=ut>0?Number(q/ut).toFixed(2):0}return n}(e,l,n,o,i),s.thisYearBeforePeriodTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(k){i=!0,c=k}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z];St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]),j!==J&&j!==K&&j!==lt&&j!==nt&&j!==Q&&j!==rt&&j!==at&&j!==it&&j!==$&&j!==tt&&j!==et||x[T]++}}catch(k){f=!0,v=k}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var D in n){var O=!0,E=!1,S=void 0;try{for(var g,w=st[Symbol.iterator]();!(O=(g=w.next()).done);O=!0){var R=g.value,P=!0,A=!1,C=void 0;try{for(var N,F=ct[Symbol.iterator]();!(P=(N=F.next()).done);P=!0){var H=N.value;n[D][_][R]+=n[D][H][R]}}catch(k){A=!0,C=k}finally{try{P||null==F.return||F.return()}finally{if(A)throw C}}}}catch(k){E=!0,S=k}finally{try{O||null==w.return||w.return()}finally{if(E)throw S}}}return n}(e,0,0,o,i),s.lastYearBeforePeriodResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(dt){i=!0,c=dt}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z],D=St()(p[U]),O=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),E=St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(j===J||j===K||j===lt||j===nt||j===Q||j===rt||j===at||j===it||(j===$||j===tt||j===et||j===ot)&&E>=e)&&x[T]++,(j===$||j===tt||j===ot||j===et)&&E>=e&&E<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x[C]=x[C]+St.a.duration(E.diff(D)).subtract(O,"days").as("days")),(j===J||j===K||j===lt||j===nt||j===Q||j===at||j===it||(j===$||j===tt||j===ot||j===et)&&E>a)&&(x[A]++,x[N]=x[N]+St.a.duration(St()(a).diff(D)).subtract(O,"days").as("days")),O>0&&x["\u6682\u505c\u5904\u7406"]++,j===$&&E>=e&&E<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,j===et&&E>=e&&E<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,j!==at&&j!==it||x["\u672a\u54cd\u5e94"]++,j===Z&&x["\u65e0\u6548"]++}}catch(dt){f=!0,v=dt}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var S in n){var g=!0,w=!1,R=void 0;try{for(var P,F=st[Symbol.iterator]();!(g=(P=F.next()).done);g=!0){var H=P.value,k=!0,G=!1,I=void 0;try{for(var Y,B=ct[Symbol.iterator]();!(k=(Y=B.next()).done);k=!0){var L=Y.value;n[S][_][H]+=n[S][L][H]}}catch(dt){G=!0,I=dt}finally{try{k||null==B.return||B.return()}finally{if(G)throw I}}}}catch(dt){w=!0,R=dt}finally{try{g||null==F.return||F.return()}finally{if(w)throw R}}}for(var V in n)for(var M in n[V]){var W=n[V][M]["\u5173\u95ed"],X=n[V][M][C];n[V][M][C]=W>0?Number(X/W).toFixed(2):0;var q=n[V][M][N],ut=n[V][M][A];n[V][M][N]=ut>0?Number(q/ut).toFixed(2):0}return n}(r,l,n,o,i),s.lastYearBeforePeriodTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(dt){i=!0,c=dt}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z],D=St()(p[U]),O=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),E=St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(j===J||j===K||j===lt||j===nt||j===Q||j===rt||j===at||j===it||(j===$||j===tt||j===et||j===ot)&&E>=e)&&x[T]++,(j===$||j===tt||j===ot||j===et)&&E>=e&&E<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x[C]=x[C]+St.a.duration(E.diff(D)).subtract(O,"days").as("days")),(j===J||j===K||j===lt||j===nt||j===Q||j===at||j===it||(j===$||j===tt||j===ot||j===et)&&E>a)&&(x[A]++,x[N]=x[N]+St.a.duration(St()(a).diff(D)).subtract(O,"days").as("days")),O>0&&x["\u6682\u505c\u5904\u7406"]++,j===$&&E>=e&&E<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,j===et&&E>=e&&E<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,j!==at&&j!==it||x["\u672a\u54cd\u5e94"]++,j===Z&&x["\u65e0\u6548"]++}}catch(dt){f=!0,v=dt}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var S in n){var g=!0,w=!1,R=void 0;try{for(var P,F=st[Symbol.iterator]();!(g=(P=F.next()).done);g=!0){var H=P.value,k=!0,G=!1,I=void 0;try{for(var Y,B=ct[Symbol.iterator]();!(k=(Y=B.next()).done);k=!0){var L=Y.value;n[S][_][H]+=n[S][L][H]}}catch(dt){G=!0,I=dt}finally{try{k||null==B.return||B.return()}finally{if(G)throw I}}}}catch(dt){w=!0,R=dt}finally{try{g||null==F.return||F.return()}finally{if(w)throw R}}}for(var V in n)for(var M in n[V]){var W=n[V][M]["\u5173\u95ed"],X=n[V][M][C];n[V][M][C]=W>0?Number(X/W).toFixed(2):0;var q=n[V][M][N],ut=n[V][M][A];n[V][M][N]=ut>0?Number(q/ut).toFixed(2):0}return n}(r,c,n,o,i),s.thisYearTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=l[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)n[s.value]=wt()}catch(dt){i=!0,c=dt}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var d=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=wt());var b=Pt(p),x=n[h][b],j=p[z],D=St()(p[U]),O=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),E=St()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(j===J||j===K||j===lt||j===nt||j===Q||j===rt||j===at||j===it||(j===$||j===tt||j===et||j===ot)&&E>=e)&&x[T]++,(j===$||j===tt||j===ot||j===et)&&E>=e&&E<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x[C]=x[C]+St.a.duration(E.diff(D)).subtract(O,"days").as("days")),(j===J||j===K||j===lt||j===nt||j===Q||j===at||j===it||(j===$||j===tt||j===ot||j===et)&&E>a)&&(x[A]++,x[N]=x[N]+St.a.duration(St()(a).diff(D)).subtract(O,"days").as("days")),O>0&&x["\u6682\u505c\u5904\u7406"]++,j===$&&E>=e&&E<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,j===et&&E>=e&&E<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,j!==at&&j!==it||x["\u672a\u54cd\u5e94"]++,j===Z&&x["\u65e0\u6548"]++}}catch(dt){f=!0,v=dt}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}for(var S in n){var g=!0,w=!1,R=void 0;try{for(var P,F=st[Symbol.iterator]();!(g=(P=F.next()).done);g=!0){var H=P.value,k=!0,G=!1,I=void 0;try{for(var Y,B=ct[Symbol.iterator]();!(k=(Y=B.next()).done);k=!0){var L=Y.value;n[S][_][H]+=n[S][L][H]}}catch(dt){G=!0,I=dt}finally{try{k||null==B.return||B.return()}finally{if(G)throw I}}}}catch(dt){w=!0,R=dt}finally{try{g||null==F.return||F.return()}finally{if(w)throw R}}}for(var V in n)for(var M in n[V]){var W=n[V][M]["\u5173\u95ed"],X=n[V][M][C];n[V][M][C]=W>0?Number(X/W).toFixed(2):0;var q=n[V][M][N],ut=n[V][M][A];n[V][M][N]=ut>0?Number(q/ut).toFixed(2):0}return n}(a,c,n,o,i),s.beforePeriodNeedHandleResult=function(t,e){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=wt()}catch(k){l=!0,n=k}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;for(var y in v)for(var m in null==a[y]&&(a[y]=wt()),a[y]){var p=!0,h=!1,b=void 0;try{for(var x,j=st[Symbol.iterator]();!(p=(x=j.next()).done);p=!0){var D=x.value;if(D===C){var O=v[y][m]["\u5173\u95ed"],E=v[y][m][C];a[y][m][C]+=O*E}else if(D===N){var S=v[y][m][N],g=v[y][m][A];a[y][m][N]+=g*S}else a[y][m][D]+=v[y][m][D]}}catch(k){h=!0,b=k}finally{try{p||null==j.return||j.return()}finally{if(h)throw b}}}}}catch(k){s=!0,u=k}finally{try{c||null==f.return||f.return()}finally{if(s)throw u}}for(var w in a)for(var R in a[w]){var P=a[w][R][C],T=a[w][R]["\u5173\u95ed"];a[w][R][C]=T>0?Number(P/T).toFixed(2):0;var F=a[w][R][N],H=a[w][R][A];a[w][R][N]=H>0?Number(F/H).toFixed(2):0}return a}([s.periodNewAddedResult,s.thisYearBeforePeriodResult,s.lastYearBeforePeriodResult],i),s.periodTotalResult=function(t,e){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=wt()}catch(k){l=!0,n=k}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;for(var y in v)for(var m in null==a[y]&&(a[y]=wt()),a[y]){var p=!0,h=!1,b=void 0;try{for(var x,j=st[Symbol.iterator]();!(p=(x=j.next()).done);p=!0){var D=x.value;if(D===C){var O=v[y][m]["\u5173\u95ed"],E=v[y][m][C];a[y][m][C]+=O*E}else if(D===N){var S=v[y][m][N],g=v[y][m][A];a[y][m][N]+=g*S}else a[y][m][D]+=v[y][m][D]}}catch(k){h=!0,b=k}finally{try{p||null==j.return||j.return()}finally{if(h)throw b}}}}}catch(k){s=!0,u=k}finally{try{c||null==f.return||f.return()}finally{if(s)throw u}}for(var w in a)for(var R in a[w]){var P=a[w][R][C],T=a[w][R]["\u5173\u95ed"];a[w][R][C]=T>0?Number(P/T).toFixed(2):0;var F=a[w][R][N],H=a[w][R][A];a[w][R][N]=H>0?Number(F/H).toFixed(2):0}return a}([s.lastYearBeforePeriodTotalResult,s.thisYearTotalResult],i),s.rateResult={};var u=!0,d=!1,f=void 0;try{for(var v,y=i[Symbol.iterator]();!(u=(v=y.next()).done);u=!0){var m=v.value;s.rateResult[m]=Rt()}}catch(p){d=!0,f=p}finally{try{u||null==y.return||y.return()}finally{if(d)throw f}}return Tt(s.periodNewAddedResult,G,s.rateResult),Tt(s.thisYearBeforePeriodResult,I,s.rateResult),Tt(s.beforePeriodNeedHandleResult,Y,s.rateResult),Tt(s.beforePeriodNeedHandleResult,B,s.rateResult),Tt(s.periodTotalResult,L,s.rateResult),s},Ct=[],Nt=[],Ft=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).start=function(t,e,r){var l=a.props,n=l.addCategories,o=l.addTicketStates;a.setState({loading:!0}),function(t){return new Promise(function(e,a){var r=new FileReader,l=[];!function a(n){n<t.length?(r.onload=function(t){var e=pt.a.read(t.target.result,{type:"binary"}),r=e.Sheets[e.SheetNames[0]];l=Object(d.a)(l).concat(Object(d.a)(pt.a.utils.sheet_to_json(r,{blankrows:!1}))),a(n+1)},r.readAsBinaryString(t[n])):e(l)}(0)})}(t).then(function(t){var l=[],i=[],c=[],s=!0,u=!1,f=void 0;try{for(var v,y=t[Symbol.iterator]();!(s=(v=y.next()).done);s=!0){var m=v.value,p=Pt(m);-1===Ct.indexOf(p)&&(Ct=Object(d.a)(Ct).concat([p]));var h=m[z];-1===Nt.indexOf(h)&&(Nt=Object(d.a)(Nt).concat([h]));var b=m[q];-1===l.indexOf(b)&&(l=Object(d.a)(l).concat([b]));var x=m[X];-1===i.indexOf(x)&&(i=Object(d.a)(i).concat([x]));var j=m[W];-1===c.indexOf(j)&&(c=Object(d.a)(c).concat([j]))}}catch(Q){u=!0,f=Q}finally{try{s||null==y.return||y.return()}finally{if(u)throw f}}n(Ct),o(Nt),a.setState({allStages:l,allProjects:i,allCities:c});var D=St()(e).set({month:0,date:1,hour:0,minute:0,second:0}),O=t.filter(function(t){var a=St()(t[U]);return a>=e&&a<=r}),E=t.filter(function(t){var a=St()(t[U]);return a>=D&&a<e}),S=t.filter(function(t){var e=St()(t[F]);return e<=r&&e>=D}),g=t.filter(function(t){return St()(t[U])<D}),w=At(O,E,S,g,e,r,q,l);a.setState({stageData:w});var R=At(O,E,S,g,e,r,X,i);a.setState({projectData:R});var P=At(O,E,S,g,e,r,W,c);a.setState({cityData:P});var H=At(O,E,S,g,e,r,M,[]);a.setState({areaData:H});for(var k={projectTotalAcceptData:[],projectOverallCloseRateData:[]},I=0;I<i.length;I++){var L=i[I];k.projectTotalAcceptData=Object(d.a)(k.projectTotalAcceptData).concat([{name:L,value:R.periodTotalResult[L][_][T]}]),k.projectOverallCloseRateData=Object(d.a)(k.projectOverallCloseRateData).concat([{name:L,value:R.rateResult[L][_][Y]}])}a.setState({projectGraphData:k});for(var V={cityTotalAcceptData:[],cityOverallCloseRateData:[],cityOpenData:[],cityNewAddedAcceptData:[],cityNewAddedCloseRateData:[],cityNeedHandleAcceptData:[],cityNeedHandleCloseOnTimeRateData:[],cityNeedHandleCloseRateData:[],cityCloseAverageHandleTimeData:[],cityOpenAverageHandleTimeData:[],cityCategoryCloseAverageHandleTimeData:{}},J=0;J<c.length;J++){var K=c[J];V.cityTotalAcceptData=Object(d.a)(V.cityTotalAcceptData).concat([{name:K,value:P.periodTotalResult[K][_][T]}]),V.cityOverallCloseRateData=Object(d.a)(V.cityOverallCloseRateData).concat([{name:K,value:P.rateResult[K][_][Y]}]),V.cityOpenData=Object(d.a)(V.cityOpenData).concat([{name:K,value:P.periodTotalResult[K][_][A]}]),V.cityNewAddedAcceptData=Object(d.a)(V.cityNewAddedAcceptData).concat([{name:K,value:P.periodNewAddedResult[K][_][T]}]),V.cityNewAddedCloseRateData=Object(d.a)(V.cityNewAddedCloseRateData).concat([{name:K,value:P.rateResult[K][_][G]}]),V.cityNeedHandleAcceptData=Object(d.a)(V.cityNeedHandleAcceptData).concat([{name:K,value:P.beforePeriodNeedHandleResult[K][_][T]}]),V.cityNeedHandleCloseOnTimeRateData=Object(d.a)(V.cityNeedHandleCloseOnTimeRateData).concat([{name:K,value:P.rateResult[K][_][B]}]),V.cityNeedHandleCloseRateData=Object(d.a)(V.cityNeedHandleCloseRateData).concat([{name:K,value:P.rateResult[K][_][Y]}]),V.cityCloseAverageHandleTimeData=Object(d.a)(V.cityCloseAverageHandleTimeData).concat([{name:K,value:P.periodNewAddedResult[K][_][C]}]),V.cityOpenAverageHandleTimeData=Object(d.a)(V.cityOpenAverageHandleTimeData).concat([{name:K,value:P.beforePeriodNeedHandleResult[K][_][N]}])}a.setState({cityGraphData:V}),a.setState({loading:!1})})},a.state={cityGraphData:{},projectGraphData:{}},a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=l.a.createElement(ut,{projectGraphData:this.state.projectGraphData,cityGraphData:this.state.cityGraphData,allStages:this.state.allStages,allProjects:this.state.allProjects,allCities:this.state.allCities}),e=l.a.createElement(jt,{data:this.state.areaData}),a=l.a.createElement(jt,{data:this.state.cityData}),r=l.a.createElement(jt,{data:this.state.projectData}),n=l.a.createElement(jt,{data:this.state.stageData});return l.a.createElement(i.a,{locale:Ot.a},l.a.createElement("div",null,l.a.createElement("h2",{className:"text--center heading"},"\u7edf\u8ba1\u8f85\u52a9\u5de5\u5177"),l.a.createElement(E,{onStart:this.start,onExport:this.exportExcel,loading:this.state.loading}),l.a.createElement(c.a,{style:{margin:"40px 0"}},l.a.createElement(s.a,{span:22,offset:1},l.a.createElement(u.a,{type:"card"},l.a.createElement(u.a.TabPane,{tab:"\u7edf\u8ba1\u56fe",key:"\u7edf\u8ba1\u56fe"},t),l.a.createElement(u.a.TabPane,{tab:"\u5927\u533a",key:"\u5927\u533a"},e),l.a.createElement(u.a.TabPane,{tab:"\u57ce\u5e02",key:"\u57ce\u5e02"},a),l.a.createElement(u.a.TabPane,{tab:"\u9879\u76ee",key:"\u9879\u76ee"},r),l.a.createElement(u.a.TabPane,{tab:"\u5206\u671f",key:"\u5206\u671f"},n))))))}}]),e}(r.Component),Ht={addCategories:function(t){return{type:"ADD_CATEGORIES",payload:{categories:t}}},addTicketStates:function(t){return{type:"ADD_TICKET_STATES",payload:{ticketStates:t}}}},kt=Object(gt.b)(null,Ht)(Ft),_t=a(75),Gt=Object(_t.b)({category:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_CATEGORY":var a=e.payload.category;return Object(d.a)(t).concat([a]);case"ADD_CATEGORIES":var r=e.payload.categories;return Object(d.a)(t).concat(Object(d.a)(r));default:return t}},ticketState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TICKET_STATES":var a=e.payload.ticketStates;return Object(d.a)(t).concat(Object(d.a)(a));default:return t}}}),It=Object(_t.c)(Gt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(l.a.createElement(gt.a,{store:It},l.a.createElement(kt,null)),document.getElementById("root"))}},[[327,2,1]]]);
//# sourceMappingURL=main.f438f9b7.chunk.js.map