(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{311:function(t,e){},334:function(t,e,a){t.exports=a(712)},339:function(t,e,a){},349:function(t,e,a){},700:function(t,e){},701:function(t,e){},712:function(t,e,a){"use strict";a.r(e);var r=a(1),l=a.n(r),n=a(10),o=a.n(n),i=(a(339),a(341),a(331)),c=(a(115),a(34)),s=(a(150),a(56)),d=(a(346),a(80)),u=a(14),f=a(91),v=a(92),y=a(100),m=a(93),p=a(99),h=(a(349),a(715),a(212)),b=(a(314),a(57)),x=(a(714),a(330)),D=(a(151),a(78)),g=a(112),E=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).compareToStartDate=function(t,e,r){var l=a.props.form;e&&e<l.getFieldValue("startDate")?r("\u7ed3\u675f\u65f6\u95f4\u5e94\u5927\u4e8e\u5f00\u59cb\u65f6\u95f4!"):r()},a.compareToEndDate=function(t,e,r){var l=a.props.form;e&&e>l.getFieldValue("endDate")?r("\u5f00\u59cb\u65f6\u95f4\u5e94\u5c0f\u4e8e\u7ed3\u675f\u65f6\u95f4!"):r()},a.state={fileList:[]},a.startStatistic=a.startStatistic.bind(Object(g.a)(Object(g.a)(a))),a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"validateForm",value:function(){var t=this;return new Promise(function(e,a){t.props.form.validateFields(function(t,r){t?a():e()})})}},{key:"startStatistic",value:function(){var t=this;this.validateForm().then(function(){var e=t.props.form,a=new Date(e.getFieldValue("startDate").set({hour:0,minute:0,second:0})),r=new Date(e.getFieldValue("endDate").set({hour:23,minute:59,second:59}));t.props.onStart(t.state.fileList,a,r)}).catch(function(){})}},{key:"render",value:function(){var t=this,e=this.props.form.getFieldDecorator;return l.a.createElement(b.a,{layout:"horizontal"},l.a.createElement(c.a,null,l.a.createElement(s.a,{span:12},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u6587\u4ef6",labelCol:{span:8},wrapperCol:{span:16}},e("files",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u6587\u4ef6!"}]})(l.a.createElement(x.a,{accept:".xls,xlsx",multiple:!0,fileList:this.state.fileList,beforeUpload:function(e){return t.setState(function(t){var a=t.fileList;return{fileList:Object(u.a)(a).concat([e])}}),!1},onRemove:function(e){t.setState(function(t){var a=t.fileList,r=a.indexOf(e),l=a.slice();return l.splice(r,1),{fileList:l}})}},l.a.createElement(D.a,null,"\u652f\u6301\u6587\u4ef6\u683c\u5f0f: .xls, .xlsx")))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},e("startDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4"},{validator:this.compareToEndDate}]})(l.a.createElement(h.a,null)))),l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},e("endDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4"},{validator:this.compareToStartDate}]})(l.a.createElement(h.a,null))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{offset:4},l.a.createElement(D.a,{loading:this.props.loading,type:"primary",onClick:this.startStatistic},this.props.loading?"\u6b63\u5728\u7edf\u8ba1...":"\u5f00\u59cb\u7edf\u8ba1"))))}}]),e}(l.a.Component);E.defaultPorps={onStart:function(){},onExport:function(){}};var j=b.a.create()(E),w=a(77),S=a.n(w),O=a(15),A=a.n(O),R=(a(281),a(291),a(292),a(293),a(295),a(299),a(300),"\u62a5\u4e8b\u65f6\u95f4"),P="\u9879\u76ee",T="\u7edf\u8ba1\u9879\u76ee",C="\u5408\u8ba1",N="\u65b0\u589e\u5173\u95ed\u7387",H="\u9057\u7559\u5173\u95ed\u7387",F="\u603b\u4f53\u5173\u95ed\u7387",k="\u53ca\u65f6\u5173\u95ed\u7387",_="\u7d2f\u8ba1\u603b\u4f53\u5173\u95ed\u7387",G=[H,N,F,k,_],I="\u5927\u533a",Y="\u57ce\u5e02\u516c\u53f8",B="\u9879\u76ee",L="\u9879\u76ee\u5206\u671f",M="\u5f53\u524d\u5de5\u5355\u72b6\u6001",W="\u62a5\u4e8b\u65f6\u95f4",V="\u5df2\u54cd\u5e94",X="\u65b9\u6848\u5236\u5b9a\u4e2d",q="\u65b9\u6848\u5df2\u6279\u51c6",z="\u65e0\u6548",U="\u5df2\u5173\u95ed",J="\u5f3a\u5236\u5173\u95ed",K="\u975e\u6b63\u5e38\u5173\u95ed",Q="\u5df2\u5206\u6d3e",Z="\u65bd\u5de5\u4e2d",$="\u65bd\u5de5\u5b8c\u6210",tt="\u5df2\u4e0a\u95e8",et="\u5df2\u8bc4\u4ef7",at="\u65b0\u5efa",rt=["\u571f\u5efa","\u7ef4\u4fee-\u5176\u4ed6\u7c7b","\u673a\u7535","\u5ba4\u5185\u7cbe\u88c5","\u5ba4\u5185\u95e8\u7a97\u53ca\u5165\u6237\u95e8","\u53a8\u623f\u8bbe\u5907","\u536b\u751f\u8bbe\u5907","\u6e17\u6f0f","\u5ba4\u5185\u7535\u5668","\u516c\u533a\u90e8\u5206","\u672a\u5206\u7c7b"],lt=["\u53d7\u7406","\u5269\u4f59\u672a\u5173","\u6682\u505c\u5904\u7406","\u65e0\u6548","\u5173\u95ed","\u6b63\u5e38\u5173\u95ed","\u975e\u6b63\u5e38\u5173\u95ed","\u53ca\u65f6\u5173\u95ed","\u672a\u54cd\u5e94","\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09","\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],nt=a(66),ot={left:"center",top:0,textStyle:{color:"#000000"}},it={feature:{saveAsImage:{show:!0}},right:40},ct={left:40},st={margin:"40px 0",height:"500px"},dt={trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}};var ut=function(t){return l.a.createElement("div",null,l.a.createElement(c.a,null,l.a.createElement(S.a,{style:st,echarts:A.a,option:{title:Object(nt.a)({text:t.title.title1},ot),tooltip:dt,toolbox:it,xAxis:[{type:"category",data:t.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u7d2f\u8ba1\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u7d2f\u8ba1\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.graphData.totalAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,formatter:"{c}"},data:t.graphData.overallCloseRateData}]}})),l.a.createElement(c.a,null,l.a.createElement(S.a,{style:st,echarts:A.a,option:{title:Object(nt.a)({text:t.title.title2},ot),tooltip:dt,toolbox:it,xAxis:[{type:"category",data:t.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u65b0\u589e\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u65b0\u589e\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#000",show:!0,formatter:"{c}"},data:t.graphData.newAddedAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:t.graphData.newAddedCloseRateData}]}})),l.a.createElement(c.a,null,l.a.createElement(S.a,{style:st,echarts:A.a,option:{title:Object(nt.a)({text:t.title.title5},ot),tooltip:{trigger:"item",formatter:"{b}:{c}({d}%)"},toolbox:it,series:[{name:"\u5269\u4f59\u672a\u5173",type:"pie",radius:"60%",label:{formatter:"{b}:{c}({d}%)",color:"#000"},data:t.graphData.openData}]}})),l.a.createElement(c.a,null,l.a.createElement(S.a,{style:st,echarts:A.a,option:{title:Object(nt.a)({text:t.title.title3},ot),tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:it,legend:Object(nt.a)({data:["\u9700\u5904\u7406\u53d7\u7406","\u53ca\u65f6\u5173\u95ed\u7387","\u603b\u4f53\u5173\u95ed\u7387"]},ct),xAxis:[{type:"category",data:t.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u9700\u5904\u7406\u53d7\u7406"},{type:"value",name:"\u6bd4\u7387",min:0,max:1}],series:[{name:"\u9700\u5904\u7406\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#000",show:!0,formatter:"{c}"},data:t.graphData.needHandleAcceptData},{name:"\u53ca\u65f6\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:t.graphData.needHandleCloseOnTimeRateData},{name:"\u603b\u4f53\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:t.graphData.needHandleCloseRateData}]}})),l.a.createElement(c.a,{style:{margin:"40px 0"}},l.a.createElement(S.a,{style:st,echarts:A.a,option:{title:Object(nt.a)({text:t.title.title4},ot),tooltip:dt,toolbox:it,xAxis:[{type:"category",data:t.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u5904\u7406\u65f6\u957f\uff08\u5929\uff09"}],legend:Object(nt.a)({data:["\u5df2\u5173\u95ed","\u5269\u4f59\u672a\u5173"]},ct),series:[{name:"\u5df2\u5173\u95ed",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.graphData.closeAverageHandleTimeData},{name:"\u5269\u4f59\u672a\u5173",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.graphData.openAverageHandleTimeData}]}})))};var ft=function(t){var e=[],a=[];for(var r in t.cityGraphData.cityCategoryCloseAverageHandleTimeData)a=Object(u.a)(a).concat([r]),e=Object(u.a)(e).concat([{name:r,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.cityGraphData.cityCategoryCloseAverageHandleTimeData[r]}]);var n=[],o=[];for(var i in t.citySecondCategoryOpenAverageHandleTimeData)o=Object(u.a)(o).concat([i]),n=Object(u.a)(n).concat([{name:i,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:t.citySecondCategoryOpenAverageHandleTimeData[i]}]);return l.a.createElement("div",null,l.a.createElement(ut,{graphData:t.cityGraphData,xAxis:t.allCities,title:{title1:"\u5404\u57ce\u5e02\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u57ce\u5e02\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u57ce\u5e02\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u57ce\u5e02\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u57ce\u5e02\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(ut,{graphData:t.projectGraphData,xAxis:t.allProjects,title:{title1:"\u5404\u9879\u76ee\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u9879\u76ee\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u9879\u76ee\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u9879\u76ee\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u9879\u76ee\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(ut,{graphData:t.stageGraphData,xAxis:t.allStages,title:{title1:"\u5404\u9879\u76ee\u5206\u671f\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u9879\u76ee\u5206\u671f\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u9879\u76ee\u5206\u671f\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u9879\u76ee\u5206\u671f\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u9879\u76ee\u5206\u671f\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}))},vt=(a(304),a(64)),yt=(a(713),a(148));function mt(t){var e=l.a.createElement(yt.a.Column,{dataIndex:P,title:P,key:P,width:300}),a=[T].concat(Object(u.a)(rt),[C]).map(function(t){return l.a.createElement(yt.a.Column,{dataIndex:t,title:t,key:t,width:300})});return l.a.createElement(yt.a,{title:function(e){return t.title},dataSource:t.filteredProjects.length>0?t.data.filter(function(e){return-1!==t.filteredProjects.indexOf(e[P])}):t.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},e,a)}mt.defaultProps={filteredProjects:[]};var pt=mt,ht=a(209),bt=a.n(ht);function xt(t){var e=[],a=0;for(var r in t){var l=!0,n=!1,o=void 0;try{for(var i,c=lt[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,d={};a++,d.key=a,d[P]=r,d[T]=s;for(var f=Object(u.a)(rt).concat([C]),v=0;v<f.length;v++){var y=f[v];d[y]=t[r][y][s]}e.push(d)}}catch(m){n=!0,o=m}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e}function Dt(t){var e=[],a=0;for(var r in t){var l=!0,n=!1,o=void 0;try{for(var i,c=G[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,d={};a++,d.key=a,d[P]=r,d[T]=s;for(var f=Object(u.a)(rt).concat([C]),v=0;v<f.length;v++){var y=f[v];d[y]=t[r][y][s]}e.push(d)}}catch(m){n=!0,o=m}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e}var gt=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).filterProjects=function(t){t.length>0?a.setState({filteredProjects:t}):a.setState({filteredProjects:[]})},a.state={filteredProjects:[]},a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=[];for(var e in this.props.data)for(var a in this.props.data[e])-1===t.indexOf(a)&&(t=Object(u.a)(t).concat([a]));return l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(c.a,null,l.a.createElement(s.a,{span:16},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u8fc7\u6ee4\u7684\u9879\u76ee",labelCol:{span:4},wrapperCol:{span:16}},l.a.createElement(vt.a,{mode:"multiple",style:{width:"100%"},onChange:this.filterProjects},t.map(function(t){return l.a.createElement(vt.a.Option,{key:t},t)})))))),l.a.createElement(c.a,null,l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e",data:xt(this.props.data.periodNewAddedResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",data:xt(this.props.data.thisYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",data:xt(this.props.data.thisYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u672c\u5e74\u5ea6\u7d2f\u8ba1",data:xt(this.props.data.thisYearTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",data:xt(this.props.data.lastYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",data:xt(this.props.data.lastYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u9700\u5904\u7406",data:xt(this.props.data.beforePeriodNeedHandleResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u7d2f\u8ba1",data:xt(this.props.data.periodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(pt,{title:"\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185",data:Dt(this.props.data.rateResult),filteredProjects:this.state.filteredProjects}))))}}]),e}(l.a.Component);gt.defaultProps={data:{}};var Et=gt,jt=a(206),wt=a.n(jt),St=a(11),Ot=a.n(St),At=(a(702),a(143)),Rt=function(){for(var t={},e=Object(u.a)(rt).concat([C]),a=0;a<e.length;a++){var r=e[a];t[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=lt[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;t[r][s]=0}}catch(d){n=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t},Pt=function(){for(var t={},e=Object(u.a)(rt).concat([C]),a=0;a<e.length;a++){var r=e[a];t[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=G[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;t[r][s]=0}}catch(d){n=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t},Tt=function(t){return t["\u4e00\u7ea7\u62a5\u4e8b\u5206\u7c7b"]||"\u672a\u5206\u7c7b"};var Ct=function(t,e,a){for(var r in t)for(var l in a[r])t[r][l]["\u53d7\u7406"]>0&&(e===N?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l]["\u53d7\u7406"]).toFixed(4):e===H?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l]["\u53d7\u7406"]).toFixed(4):e===F?a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l]["\u53d7\u7406"]).toFixed(4):e===k?a[r][l][e]=(t[r][l]["\u53ca\u65f6\u5173\u95ed"]/t[r][l]["\u53d7\u7406"]).toFixed(4):e===_&&(a[r][l][e]=(t[r][l]["\u5173\u95ed"]/t[r][l]["\u53d7\u7406"]).toFixed(4)))},Nt=function(t,e,a,r,l,n,o,i){var c=Ot()(l).set({month:0,date:1,hour:0,minute:0,second:0}),s={};s.periodNewAddedResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(it){i=!0,c=it}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M],g=Ot()(p[W]),E=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),j=Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);D!==V&&D!==X&&D!==U&&D!==$&&D!==tt&&D!==J&&D!==q&&D!==et&&D!==Z&&D!==K&&D!==Q&&D!==at||x["\u53d7\u7406"]++,(D===U||D===J||D===et||D===K)&&j>=e&&j<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(j.diff(g)).subtract(E,"days").as("days")),(D===V||D===X||D===$||D===tt||D===q||D===Q||D===at||(D===U||D===J||D===et||D===K)&&j>a)&&(x["\u5269\u4f59\u672a\u5173"]++,x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(Ot()(a).diff(g)).subtract(E,"days").as("days")),E>0&&x["\u6682\u505c\u5904\u7406"]++,D===U&&j>=e&&j<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===K&&j>=e&&j<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==Q&&D!==at||x["\u672a\u54cd\u5e94"]++,D===z&&x["\u65e0\u6548"]++}}catch(it){f=!0,v=it}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var w in n){var S=!0,O=!1,A=void 0;try{for(var R,P=lt[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var T=R.value,N=!0,H=!1,F=void 0;try{for(var k,_=rt[Symbol.iterator]();!(N=(k=_.next()).done);N=!0){var G=k.value;n[w][C][T]+=n[w][G][T]}}catch(it){H=!0,F=it}finally{try{N||null==_.return||_.return()}finally{if(H)throw F}}}}catch(it){O=!0,A=it}finally{try{S||null==P.return||P.return()}finally{if(O)throw A}}}for(var I in n)for(var Y in n[I]){var B=n[I][Y]["\u5173\u95ed"],L=n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=B>0?Number(L/B).toFixed(2):0;var nt=n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],ot=n[I][Y]["\u5269\u4f59\u672a\u5173"];n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=ot>0?Number(nt/ot).toFixed(2):0}return n}(t,l,n,o,i),s.thisYearBeforePeriodResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(it){i=!0,c=it}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M],g=Ot()(p[W]),E=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),j=Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===V||D===X||D===$||D===tt||D===q||D===Z||D===Q||D===at||(D===U||D===J||D===K||D===et)&&j>=e)&&x["\u53d7\u7406"]++,(D===U||D===J||D===et||D===K)&&j>=e&&j<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(j.diff(g)).subtract(E,"days").as("days")),(D===V||D===X||D===$||D===tt||D===q||D===Q||D===at||(D===U||D===J||D===et||D===K)&&j>a)&&(x["\u5269\u4f59\u672a\u5173"]++,x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(Ot()(a).diff(g)).subtract(E,"days").as("days")),E>0&&x["\u6682\u505c\u5904\u7406"]++,D===U&&j>=e&&j<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===K&&j>=e&&j<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==Q&&D!==at||x["\u672a\u54cd\u5e94"]++,D===z&&x["\u65e0\u6548"]++}}catch(it){f=!0,v=it}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var w in n){var S=!0,O=!1,A=void 0;try{for(var R,P=lt[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var T=R.value,N=!0,H=!1,F=void 0;try{for(var k,_=rt[Symbol.iterator]();!(N=(k=_.next()).done);N=!0){var G=k.value;n[w][C][T]+=n[w][G][T]}}catch(it){H=!0,F=it}finally{try{N||null==_.return||_.return()}finally{if(H)throw F}}}}catch(it){O=!0,A=it}finally{try{S||null==P.return||P.return()}finally{if(O)throw A}}}for(var I in n)for(var Y in n[I]){var B=n[I][Y]["\u5173\u95ed"],L=n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=B>0?Number(L/B).toFixed(2):0;var nt=n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],ot=n[I][Y]["\u5269\u4f59\u672a\u5173"];n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=ot>0?Number(nt/ot).toFixed(2):0}return n}(e,l,n,o,i),s.thisYearBeforePeriodTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(k){i=!0,c=k}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M];Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]),D!==V&&D!==X&&D!==$&&D!==tt&&D!==q&&D!==Z&&D!==Q&&D!==at&&D!==U&&D!==J&&D!==K||x["\u53d7\u7406"]++}}catch(k){f=!0,v=k}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var g in n){var E=!0,j=!1,w=void 0;try{for(var S,O=lt[Symbol.iterator]();!(E=(S=O.next()).done);E=!0){var A=S.value,R=!0,P=!1,T=void 0;try{for(var N,H=rt[Symbol.iterator]();!(R=(N=H.next()).done);R=!0){var F=N.value;n[g][C][A]+=n[g][F][A]}}catch(k){P=!0,T=k}finally{try{R||null==H.return||H.return()}finally{if(P)throw T}}}}catch(k){j=!0,w=k}finally{try{E||null==O.return||O.return()}finally{if(j)throw w}}}return n}(e,0,0,o,i),s.lastYearBeforePeriodResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(it){i=!0,c=it}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M],g=Ot()(p[W]),E=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),j=Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===V||D===X||D===$||D===tt||D===q||D===Z||D===Q||D===at||(D===U||D===J||D===K||D===et)&&j>=e)&&x["\u53d7\u7406"]++,(D===U||D===J||D===et||D===K)&&j>=e&&j<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(j.diff(g)).subtract(E,"days").as("days")),(D===V||D===X||D===$||D===tt||D===q||D===Q||D===at||(D===U||D===J||D===et||D===K)&&j>a)&&(x["\u5269\u4f59\u672a\u5173"]++,x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(Ot()(a).diff(g)).subtract(E,"days").as("days")),E>0&&x["\u6682\u505c\u5904\u7406"]++,D===U&&j>=e&&j<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===K&&j>=e&&j<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==Q&&D!==at||x["\u672a\u54cd\u5e94"]++,D===z&&x["\u65e0\u6548"]++}}catch(it){f=!0,v=it}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var w in n){var S=!0,O=!1,A=void 0;try{for(var R,P=lt[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var T=R.value,N=!0,H=!1,F=void 0;try{for(var k,_=rt[Symbol.iterator]();!(N=(k=_.next()).done);N=!0){var G=k.value;n[w][C][T]+=n[w][G][T]}}catch(it){H=!0,F=it}finally{try{N||null==_.return||_.return()}finally{if(H)throw F}}}}catch(it){O=!0,A=it}finally{try{S||null==P.return||P.return()}finally{if(O)throw A}}}for(var I in n)for(var Y in n[I]){var B=n[I][Y]["\u5173\u95ed"],L=n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=B>0?Number(L/B).toFixed(2):0;var nt=n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],ot=n[I][Y]["\u5269\u4f59\u672a\u5173"];n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=ot>0?Number(nt/ot).toFixed(2):0}return n}(r,l,n,o,i),s.lastYearBeforePeriodTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(it){i=!0,c=it}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M],g=Ot()(p[W]),E=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),j=Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===V||D===X||D===$||D===tt||D===q||D===Z||D===Q||D===at||(D===U||D===J||D===K||D===et)&&j>=e)&&x["\u53d7\u7406"]++,(D===U||D===J||D===et||D===K)&&j>=e&&j<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(j.diff(g)).subtract(E,"days").as("days")),(D===V||D===X||D===$||D===tt||D===q||D===Q||D===at||(D===U||D===J||D===et||D===K)&&j>a)&&(x["\u5269\u4f59\u672a\u5173"]++,x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(Ot()(a).diff(g)).subtract(E,"days").as("days")),E>0&&x["\u6682\u505c\u5904\u7406"]++,D===U&&j>=e&&j<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===K&&j>=e&&j<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==Q&&D!==at||x["\u672a\u54cd\u5e94"]++,D===z&&x["\u65e0\u6548"]++}}catch(it){f=!0,v=it}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var w in n){var S=!0,O=!1,A=void 0;try{for(var R,P=lt[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var T=R.value,N=!0,H=!1,F=void 0;try{for(var k,_=rt[Symbol.iterator]();!(N=(k=_.next()).done);N=!0){var G=k.value;n[w][C][T]+=n[w][G][T]}}catch(it){H=!0,F=it}finally{try{N||null==_.return||_.return()}finally{if(H)throw F}}}}catch(it){O=!0,A=it}finally{try{S||null==P.return||P.return()}finally{if(O)throw A}}}for(var I in n)for(var Y in n[I]){var B=n[I][Y]["\u5173\u95ed"],L=n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=B>0?Number(L/B).toFixed(2):0;var nt=n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],ot=n[I][Y]["\u5269\u4f59\u672a\u5173"];n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=ot>0?Number(nt/ot).toFixed(2):0}return n}(r,c,n,o,i),s.thisYearTotalResult=function(t,e,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Rt()}catch(it){i=!0,c=it}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,f=!1,v=void 0;try{for(var y,m=t[Symbol.iterator]();!(u=(y=m.next()).done);u=!0){var p=y.value,h=p[r];null==n[h]&&(n[h]=Rt());var b=Tt(p),x=n[h][b],D=p[M],g=Ot()(p[W]),E=Number(p["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),j=Ot()(p["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||p["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||p["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===V||D===X||D===$||D===tt||D===q||D===Z||D===Q||D===at||(D===U||D===J||D===K||D===et)&&j>=e)&&x["\u53d7\u7406"]++,(D===U||D===J||D===et||D===K)&&j>=e&&j<=a&&(x["\u5173\u95ed"]++,null==p["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(j.diff(g)).subtract(E,"days").as("days")),(D===V||D===X||D===$||D===tt||D===q||D===Q||D===at||(D===U||D===J||D===et||D===K)&&j>a)&&(x["\u5269\u4f59\u672a\u5173"]++,x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=x["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+Ot.a.duration(Ot()(a).diff(g)).subtract(E,"days").as("days")),E>0&&x["\u6682\u505c\u5904\u7406"]++,D===U&&j>=e&&j<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===K&&j>=e&&j<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==Q&&D!==at||x["\u672a\u54cd\u5e94"]++,D===z&&x["\u65e0\u6548"]++}}catch(it){f=!0,v=it}finally{try{u||null==m.return||m.return()}finally{if(f)throw v}}for(var w in n){var S=!0,O=!1,A=void 0;try{for(var R,P=lt[Symbol.iterator]();!(S=(R=P.next()).done);S=!0){var T=R.value,N=!0,H=!1,F=void 0;try{for(var k,_=rt[Symbol.iterator]();!(N=(k=_.next()).done);N=!0){var G=k.value;n[w][C][T]+=n[w][G][T]}}catch(it){H=!0,F=it}finally{try{N||null==_.return||_.return()}finally{if(H)throw F}}}}catch(it){O=!0,A=it}finally{try{S||null==P.return||P.return()}finally{if(O)throw A}}}for(var I in n)for(var Y in n[I]){var B=n[I][Y]["\u5173\u95ed"],L=n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[I][Y]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=B>0?Number(L/B).toFixed(2):0;var nt=n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],ot=n[I][Y]["\u5269\u4f59\u672a\u5173"];n[I][Y]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=ot>0?Number(nt/ot).toFixed(2):0}return n}(a,c,n,o,i),s.beforePeriodNeedHandleResult=function(t,e){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=Rt()}catch(N){l=!0,n=N}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,d=void 0;try{for(var u,f=t[Symbol.iterator]();!(c=(u=f.next()).done);c=!0){var v=u.value;for(var y in v)for(var m in null==a[y]&&(a[y]=Rt()),a[y]){var p=!0,h=!1,b=void 0;try{for(var x,D=lt[Symbol.iterator]();!(p=(x=D.next()).done);p=!0){var g=x.value;if("\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var E=v[y][m]["\u5173\u95ed"],j=v[y][m]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];a[y][m]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+=E*j}else if("\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var w=v[y][m]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],S=v[y][m]["\u5269\u4f59\u672a\u5173"];a[y][m]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+=S*w}else a[y][m][g]+=v[y][m][g]}}catch(N){h=!0,b=N}finally{try{p||null==D.return||D.return()}finally{if(h)throw b}}}}}catch(N){s=!0,d=N}finally{try{c||null==f.return||f.return()}finally{if(s)throw d}}for(var O in a)for(var A in a[O]){var R=a[O][A]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"],P=a[O][A]["\u5173\u95ed"];a[O][A]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=P>0?Number(R/P).toFixed(2):0;var T=a[O][A]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],C=a[O][A]["\u5269\u4f59\u672a\u5173"];a[O][A]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=C>0?Number(T/C).toFixed(2):0}return a}([s.periodNewAddedResult,s.thisYearBeforePeriodResult,s.lastYearBeforePeriodResult],i),s.periodTotalResult=function(t,e){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=Rt()}catch(N){l=!0,n=N}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,d=void 0;try{for(var u,f=t[Symbol.iterator]();!(c=(u=f.next()).done);c=!0){var v=u.value;for(var y in v)for(var m in null==a[y]&&(a[y]=Rt()),a[y]){var p=!0,h=!1,b=void 0;try{for(var x,D=lt[Symbol.iterator]();!(p=(x=D.next()).done);p=!0){var g=x.value;if("\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var E=v[y][m]["\u5173\u95ed"],j=v[y][m]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];a[y][m]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+=E*j}else if("\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var w=v[y][m]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],S=v[y][m]["\u5269\u4f59\u672a\u5173"];a[y][m]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+=S*w}else a[y][m][g]+=v[y][m][g]}}catch(N){h=!0,b=N}finally{try{p||null==D.return||D.return()}finally{if(h)throw b}}}}}catch(N){s=!0,d=N}finally{try{c||null==f.return||f.return()}finally{if(s)throw d}}for(var O in a)for(var A in a[O]){var R=a[O][A]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"],P=a[O][A]["\u5173\u95ed"];a[O][A]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=P>0?Number(R/P).toFixed(2):0;var T=a[O][A]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],C=a[O][A]["\u5269\u4f59\u672a\u5173"];a[O][A]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=C>0?Number(T/C).toFixed(2):0}return a}([s.lastYearBeforePeriodTotalResult,s.thisYearTotalResult],i),s.rateResult={};var d=!0,u=!1,f=void 0;try{for(var v,y=i[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var m=v.value;s.rateResult[m]=Pt()}}catch(p){u=!0,f=p}finally{try{d||null==y.return||y.return()}finally{if(u)throw f}}return Ct(s.periodNewAddedResult,N,s.rateResult),Ct(s.thisYearBeforePeriodResult,H,s.rateResult),Ct(s.beforePeriodNeedHandleResult,F,s.rateResult),Ct(s.beforePeriodNeedHandleResult,k,s.rateResult),Ct(s.periodTotalResult,_,s.rateResult),s},Ht=function(t,e){var a={totalAcceptData:[],overallCloseRateData:[],newAddedAcceptData:[],newAddedCloseRateData:[],needHandleAcceptData:[],needHandleCloseOnTimeRateData:[],needHandleCloseRateData:[],openData:[],closeAverageHandleTimeData:[],openAverageHandleTimeData:[]},r=!0,l=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value;a.totalAcceptData=Object(u.a)(a.totalAcceptData).concat([{name:c,value:t.periodTotalResult[c][C]["\u53d7\u7406"]}]),a.overallCloseRateData=Object(u.a)(a.overallCloseRateData).concat([{name:c,value:t.rateResult[c][C][F]}]),a.newAddedAcceptData=Object(u.a)(a.newAddedAcceptData).concat([{name:c,value:t.periodNewAddedResult[c][C]["\u53d7\u7406"]}]),a.newAddedCloseRateData=Object(u.a)(a.newAddedCloseRateData).concat([{name:c,value:t.rateResult[c][C][N]}]),a.needHandleAcceptData=Object(u.a)(a.needHandleAcceptData).concat([{name:c,value:t.beforePeriodNeedHandleResult[c][C]["\u53d7\u7406"]}]),a.needHandleCloseOnTimeRateData=Object(u.a)(a.needHandleCloseOnTimeRateData).concat([{name:c,value:t.rateResult[c][C][k]}]),a.needHandleCloseRateData=Object(u.a)(a.needHandleCloseRateData).concat([{name:c,value:t.rateResult[c][C][F]}]),a.closeAverageHandleTimeData=Object(u.a)(a.closeAverageHandleTimeData).concat([{name:c,value:t.periodNewAddedResult[c][C]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),a.openAverageHandleTimeData=Object(u.a)(a.openAverageHandleTimeData).concat([{name:c,value:t.periodNewAddedResult[c][C]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),a.openData=Object(u.a)(a.openData).concat([{name:c,value:t.periodTotalResult[c][C]["\u5269\u4f59\u672a\u5173"]}])}}catch(s){l=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}return a},Ft=[],kt=[],_t=function(t){function e(t){var a;return Object(f.a)(this,e),(a=Object(y.a)(this,Object(m.a)(e).call(this,t))).start=function(t,e,r){var l=a.props,n=l.addCategories,o=l.addTicketStates;a.setState({loading:!0}),function(t){return new Promise(function(e,a){var r=new FileReader,l=[];!function a(n){n<t.length?(r.onload=function(t){var e=bt.a.read(t.target.result,{type:"binary"}),r=e.Sheets[e.SheetNames[0]];l=Object(u.a)(l).concat(Object(u.a)(bt.a.utils.sheet_to_json(r,{blankrows:!1}))),a(n+1)},r.readAsBinaryString(t[n])):e(l)}(0)})}(t).then(function(t){var l=[],i=[],c=[],s=!0,d=!1,f=void 0;try{for(var v,y=t[Symbol.iterator]();!(s=(v=y.next()).done);s=!0){var m=v.value,p=Tt(m);-1===Ft.indexOf(p)&&(Ft=Object(u.a)(Ft).concat([p]));var h=m[M];-1===kt.indexOf(h)&&(kt=Object(u.a)(kt).concat([h]));var b=m[L];-1===l.indexOf(b)&&(l=Object(u.a)(l).concat([b]));var x=m[B];-1===i.indexOf(x)&&(i=Object(u.a)(i).concat([x]));var D=m[Y];-1===c.indexOf(D)&&(c=Object(u.a)(c).concat([D]))}}catch(F){d=!0,f=F}finally{try{s||null==y.return||y.return()}finally{if(d)throw f}}n(Ft),o(kt),a.setState({allStages:l,allProjects:i,allCities:c});var g=Ot()(e).set({month:0,date:1,hour:0,minute:0,second:0}),E=t.filter(function(t){var a=Ot()(t[W]);return a>=e&&a<=r}),j=t.filter(function(t){var a=Ot()(t[W]);return a>=g&&a<e}),w=t.filter(function(t){var e=Ot()(t[R]);return e<=r&&e>=g}),S=t.filter(function(t){return Ot()(t[W])<g}),O=Nt(E,j,w,S,e,r,L,l);a.setState({stageData:O});var A=Nt(E,j,w,S,e,r,B,i);a.setState({projectData:A});var P=Nt(E,j,w,S,e,r,Y,c);a.setState({cityData:P});var T=Nt(E,j,w,S,e,r,I,[]);a.setState({areaData:T});var C=Ht(O,l);a.setState({stageGraphData:C});var N=Ht(A,i);a.setState({projectGraphData:N});var H=Ht(P,c);a.setState({cityGraphData:H}),a.setState({loading:!1})})},a.state={stageGraphData:{},cityGraphData:{},projectGraphData:{}},a}return Object(p.a)(e,t),Object(v.a)(e,[{key:"render",value:function(){var t=l.a.createElement(ft,{stageGraphData:this.state.stageGraphData,projectGraphData:this.state.projectGraphData,cityGraphData:this.state.cityGraphData,allStages:this.state.allStages,allProjects:this.state.allProjects,allCities:this.state.allCities}),e=l.a.createElement(Et,{data:this.state.areaData}),a=l.a.createElement(Et,{data:this.state.cityData}),r=l.a.createElement(Et,{data:this.state.projectData}),n=l.a.createElement(Et,{data:this.state.stageData});return l.a.createElement(i.a,{locale:wt.a},l.a.createElement("div",null,l.a.createElement("h2",{className:"text--center heading"},"\u7edf\u8ba1\u8f85\u52a9\u5de5\u5177"),l.a.createElement(j,{onStart:this.start,onExport:this.exportExcel,loading:this.state.loading}),l.a.createElement(c.a,{style:{margin:"40px 0"}},l.a.createElement(s.a,{span:22,offset:1},l.a.createElement(d.a,{type:"card"},l.a.createElement(d.a.TabPane,{tab:"\u7edf\u8ba1\u56fe",key:"\u7edf\u8ba1\u56fe"},t),l.a.createElement(d.a.TabPane,{tab:"\u5927\u533a",key:"\u5927\u533a"},e),l.a.createElement(d.a.TabPane,{tab:"\u57ce\u5e02",key:"\u57ce\u5e02"},a),l.a.createElement(d.a.TabPane,{tab:"\u9879\u76ee",key:"\u9879\u76ee"},r),l.a.createElement(d.a.TabPane,{tab:"\u5206\u671f",key:"\u5206\u671f"},n))))))}}]),e}(r.Component),Gt={addCategories:function(t){return{type:"ADD_CATEGORIES",payload:{categories:t}}},addTicketStates:function(t){return{type:"ADD_TICKET_STATES",payload:{ticketStates:t}}}},It=Object(At.b)(null,Gt)(_t),Yt=a(76),Bt=Object(Yt.b)({category:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_CATEGORY":var a=e.payload.category;return Object(u.a)(t).concat([a]);case"ADD_CATEGORIES":var r=e.payload.categories;return Object(u.a)(t).concat(Object(u.a)(r));default:return t}},ticketState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TICKET_STATES":var a=e.payload.ticketStates;return Object(u.a)(t).concat(Object(u.a)(a));default:return t}}}),Lt=Object(Yt.c)(Bt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(l.a.createElement(At.a,{store:Lt},l.a.createElement(It,null)),document.getElementById("root"))}},[[334,2,1]]]);
//# sourceMappingURL=main.7f482bcd.chunk.js.map