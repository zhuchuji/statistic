(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{310:function(e,t){},334:function(e,t,a){e.exports=a(712)},339:function(e,t,a){},349:function(e,t,a){},700:function(e,t){},701:function(e,t){},712:function(e,t,a){"use strict";a.r(t);var r=a(1),l=a.n(r),n=a(10),o=a.n(n),i=(a(339),a(341),a(331)),c=(a(116),a(35)),s=(a(152),a(53)),d=(a(346),a(81)),u=a(12),v=a(92),f=a(93),y=a(101),p=a(94),h=a(100),m=(a(349),a(715),a(211)),b=(a(313),a(59)),x=(a(714),a(330)),D=(a(118),a(58)),g=a(113),j=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(p.a)(t).call(this,e))).compareToStartDate=function(e,t,r){var l=a.props.form;t&&t<l.getFieldValue("startDate")?r("\u7ed3\u675f\u65f6\u95f4\u5e94\u5927\u4e8e\u5f00\u59cb\u65f6\u95f4!"):r()},a.compareToEndDate=function(e,t,r){var l=a.props.form;t&&t>l.getFieldValue("endDate")?r("\u5f00\u59cb\u65f6\u95f4\u5e94\u5c0f\u4e8e\u7ed3\u675f\u65f6\u95f4!"):r()},a.state={fileList:[]},a.startStatistic=a.startStatistic.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"validateForm",value:function(){var e=this;return new Promise(function(t,a){e.props.form.validateFields(function(e,r){e?a():t()})})}},{key:"startStatistic",value:function(){var e=this;this.validateForm().then(function(){var t=e.props.form,a=new Date(t.getFieldValue("startDate").set({hour:0,minute:0,second:0})),r=new Date(t.getFieldValue("endDate").set({hour:23,minute:59,second:59}));e.props.onStart(e.state.fileList,a,r)}).catch(function(){})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(b.a,{layout:"horizontal"},l.a.createElement(c.a,null,l.a.createElement(s.a,{span:12},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u6587\u4ef6",labelCol:{span:8},wrapperCol:{span:16}},t("files",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u6587\u4ef6!"}]})(l.a.createElement(x.a,{accept:".xls,xlsx",multiple:!0,fileList:this.state.fileList,beforeUpload:function(t){return e.setState(function(e){var a=e.fileList;return{fileList:Object(u.a)(a).concat([t])}}),!1},onRemove:function(t){e.setState(function(e){var a=e.fileList,r=a.indexOf(t),l=a.slice();return l.splice(r,1),{fileList:l}})}},l.a.createElement(D.a,null,"\u652f\u6301\u6587\u4ef6\u683c\u5f0f: .xls, .xlsx")))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},t("startDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4"},{validator:this.compareToEndDate}]})(l.a.createElement(m.a,null)))),l.a.createElement(s.a,{span:8},l.a.createElement(b.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},t("endDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4"},{validator:this.compareToStartDate}]})(l.a.createElement(m.a,null))))),l.a.createElement(c.a,null,l.a.createElement(s.a,{offset:4},l.a.createElement(D.a,{loading:this.props.loading,type:"primary",onClick:this.startStatistic},this.props.loading?"\u6b63\u5728\u7edf\u8ba1...":"\u5f00\u59cb\u7edf\u8ba1"))))}}]),t}(l.a.Component);j.defaultPorps={onStart:function(){},onExport:function(){}};var w=b.a.create()(j),E=a(79),A=a.n(E),O=a(15),S=a.n(O),R=(a(280),a(290),a(291),a(292),a(294),a(298),a(299),"\u62a5\u4e8b\u65f6\u95f4"),P="\u9879\u76ee",T="\u7edf\u8ba1\u9879\u76ee",C="\u5408\u8ba1",_="\u65b0\u589e\u5173\u95ed\u7387",H="\u9057\u7559\u5173\u95ed\u7387",N="\u603b\u4f53\u5173\u95ed\u7387",k="\u53ca\u65f6\u5173\u95ed\u7387",G="\u7d2f\u8ba1\u603b\u4f53\u5173\u95ed\u7387",F=[H,_,N,k,G],Y="\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e",B="\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",I="\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",L="\u672c\u5e74\u5ea6\u7d2f\u8ba1",M="\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",W="\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",V="\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u9700\u5904\u7406",X="\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u7d2f\u8ba1",q="\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185",z="\u5927\u533a",U="\u57ce\u5e02\u516c\u53f8",J="\u9879\u76ee",K="\u9879\u76ee\u5206\u671f",Q="\u5f53\u524d\u5de5\u5355\u72b6\u6001",Z="\u62a5\u4e8b\u65f6\u95f4",$="\u5df2\u54cd\u5e94",ee="\u65b9\u6848\u5236\u5b9a\u4e2d",te="\u65b9\u6848\u5df2\u6279\u51c6",ae="\u65e0\u6548",re="\u5df2\u5173\u95ed",le="\u5f3a\u5236\u5173\u95ed",ne="\u975e\u6b63\u5e38\u5173\u95ed",oe="\u5df2\u5206\u6d3e",ie="\u65bd\u5de5\u4e2d",ce="\u65bd\u5de5\u5b8c\u6210",se="\u5df2\u4e0a\u95e8",de="\u5df2\u8bc4\u4ef7",ue="\u65b0\u5efa",ve=["\u571f\u5efa","\u7ef4\u4fee-\u5176\u4ed6\u7c7b","\u673a\u7535","\u5ba4\u5185\u7cbe\u88c5","\u5ba4\u5185\u95e8\u7a97\u53ca\u5165\u6237\u95e8","\u53a8\u623f\u8bbe\u5907","\u536b\u751f\u8bbe\u5907","\u6e17\u6f0f","\u5ba4\u5185\u7535\u5668","\u516c\u533a\u90e8\u5206","\u672a\u5206\u7c7b"],fe=["\u53d7\u7406","\u5269\u4f59\u672a\u5173","\u6682\u505c\u5904\u7406","\u65e0\u6548","\u5173\u95ed","\u6b63\u5e38\u5173\u95ed","\u975e\u6b63\u5e38\u5173\u95ed","\u53ca\u65f6\u5173\u95ed","\u672a\u54cd\u5e94","\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09","\u672a\u5173\u65f6\u957f\uff08\u5929\uff09","\u5df2\u5173\u5904\u7406\u65f6\u957f\uff080-7\u5929\uff09","\u5df2\u5173\u5904\u7406\u65f6\u957f\uff087-15\u5929\uff09","\u5df2\u5173\u5904\u7406\u65f6\u957f\uff0815-30\u5929\uff09","\u5df2\u5173\u5904\u7406\u65f6\u957f\uff0830-60\u5929\uff09","\u5df2\u5173\u5904\u7406\u65f6\u957f\uff08\u5927\u4e8e60\u5929\uff09","\u672a\u5173\u5904\u7406\u65f6\u957f\uff080-7\u5929\uff09","\u672a\u5173\u5904\u7406\u65f6\u957f\uff087-15\u5929\uff09","\u672a\u5173\u5904\u7406\u65f6\u957f\uff0815-30\u5929\uff09","\u672a\u5173\u5904\u7406\u65f6\u957f\uff0830-60\u5929\uff09","\u672a\u5173\u5904\u7406\u65f6\u957f\uff08\u5927\u4e8e60\u5929\uff09"],ye=a(68),pe={left:"center",top:0,textStyle:{color:"#000000"}},he={feature:{saveAsImage:{show:!0}},right:40},me={left:40},be={margin:"40px 0",height:"500px"},xe={trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}};var De=function(e){return l.a.createElement("div",null,l.a.createElement(c.a,null,l.a.createElement(A.a,{style:be,echarts:S.a,option:{title:Object(ye.a)({text:e.title.title1},pe),tooltip:xe,toolbox:he,xAxis:[{type:"category",data:e.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u7d2f\u8ba1\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u7d2f\u8ba1\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:e.graphData.totalAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,formatter:"{c}"},data:e.graphData.overallCloseRateData}]}})),l.a.createElement(c.a,null,l.a.createElement(A.a,{style:be,echarts:S.a,option:{title:Object(ye.a)({text:e.title.title2},pe),tooltip:xe,toolbox:he,xAxis:[{type:"category",data:e.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u65b0\u589e\u53d7\u7406"},{type:"value",name:"\u5173\u95ed\u7387",min:0,max:1}],series:[{name:"\u65b0\u589e\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#000",show:!0,formatter:"{c}"},data:e.graphData.newAddedAcceptData},{name:"\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:e.graphData.newAddedCloseRateData}]}})),l.a.createElement(c.a,null,l.a.createElement(A.a,{style:be,echarts:S.a,option:{title:Object(ye.a)({text:e.title.title5},pe),tooltip:{trigger:"item",formatter:"{b}:{c}({d}%)"},toolbox:he,series:[{name:"\u5269\u4f59\u672a\u5173",type:"pie",radius:"60%",label:{formatter:"{b}:{c}({d}%)",color:"#000"},data:e.graphData.openData}]}})),l.a.createElement(c.a,null,l.a.createElement(A.a,{style:be,echarts:S.a,option:{title:Object(ye.a)({text:e.title.title3},pe),tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:he,legend:Object(ye.a)({data:["\u9700\u5904\u7406\u53d7\u7406","\u53ca\u65f6\u5173\u95ed\u7387","\u603b\u4f53\u5173\u95ed\u7387"]},me),xAxis:[{type:"category",data:e.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u9700\u5904\u7406\u53d7\u7406"},{type:"value",name:"\u6bd4\u7387",min:0,max:1}],series:[{name:"\u9700\u5904\u7406\u53d7\u7406",type:"bar",barMaxWidth:20,label:{position:"top",color:"#000",show:!0,formatter:"{c}"},data:e.graphData.needHandleAcceptData},{name:"\u53ca\u65f6\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:e.graphData.needHandleCloseOnTimeRateData},{name:"\u603b\u4f53\u5173\u95ed\u7387",type:"line",yAxisIndex:1,label:{show:!0,color:"#000",formatter:"{c}"},data:e.graphData.needHandleCloseRateData}]}})),l.a.createElement(c.a,{style:{margin:"40px 0"}},l.a.createElement(A.a,{style:be,echarts:S.a,option:{title:Object(ye.a)({text:e.title.title4},pe),tooltip:xe,toolbox:he,xAxis:[{type:"category",data:e.xAxis,axisPointer:{type:"shadow"},interval:0,axisLabel:{rotate:45}}],yAxis:[{type:"value",name:"\u5904\u7406\u65f6\u957f\uff08\u5929\uff09"}],legend:Object(ye.a)({data:["\u5df2\u5173\u95ed","\u5269\u4f59\u672a\u5173"]},me),series:[{name:"\u5df2\u5173\u95ed",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:e.graphData.closeAverageHandleTimeData},{name:"\u5269\u4f59\u672a\u5173",type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:e.graphData.openAverageHandleTimeData}]}})))};var ge=function(e){var t=[],a=[];for(var r in e.cityGraphData.cityCategoryCloseAverageHandleTimeData)a=Object(u.a)(a).concat([r]),t=Object(u.a)(t).concat([{name:r,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:e.cityGraphData.cityCategoryCloseAverageHandleTimeData[r]}]);var n=[],o=[];for(var i in e.citySecondCategoryOpenAverageHandleTimeData)o=Object(u.a)(o).concat([i]),n=Object(u.a)(n).concat([{name:i,type:"bar",barMaxWidth:20,label:{position:"top",color:"#333",show:!0,formatter:"{c}"},data:e.citySecondCategoryOpenAverageHandleTimeData[i]}]);return l.a.createElement("div",null,l.a.createElement(De,{graphData:e.areaGraphData,xAxis:e.allAreas,title:{title1:"\u5927\u533a\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5927\u533a\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5927\u533a\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5927\u533a\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5927\u533a\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(De,{graphData:e.categoryGraphData,xAxis:e.allCategories,title:{title1:"\u5206\u7c7b\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5206\u7c7b\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5206\u7c7b\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5206\u7c7b\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5206\u7c7b\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(De,{graphData:e.cityGraphData,xAxis:e.allCities,title:{title1:"\u5404\u57ce\u5e02\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u57ce\u5e02\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u57ce\u5e02\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u57ce\u5e02\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u57ce\u5e02\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(De,{graphData:e.projectGraphData,xAxis:e.allProjects,title:{title1:"\u5404\u9879\u76ee\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u9879\u76ee\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u9879\u76ee\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u9879\u76ee\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u9879\u76ee\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}),l.a.createElement(De,{graphData:e.stageGraphData,xAxis:e.allStages,title:{title1:"\u5404\u9879\u76ee\u5206\u671f\u65e5\u5e38\u7ef4\u4fee\u603b\u4f53\u5173\u95ed\u7387",title2:"\u5404\u9879\u76ee\u5206\u671f\u65b0\u589e\u7ef4\u4fee\u5173\u95ed\u7387",title3:"\u5404\u9879\u76ee\u5206\u671f\u9700\u5904\u7406\u5173\u95ed\u7387",title4:"\u5404\u9879\u76ee\u5206\u671f\u65b0\u589e\u5e73\u5747\u5904\u7406\u65f6\u957f",title5:"\u5404\u9879\u76ee\u5206\u671f\u5269\u4f59\u672a\u5173\u5206\u5e03\u56fe"}}))},je=(a(303),a(66)),we=(a(713),a(150));function Ee(e){var t=l.a.createElement(we.a.Column,{dataIndex:P,title:P,key:P,width:300}),a=[T].concat(Object(u.a)(ve),[C]).map(function(e){return l.a.createElement(we.a.Column,{dataIndex:e,title:e,key:e,width:300})});return l.a.createElement(we.a,{title:function(t){return e.title},dataSource:e.filteredProjects.length>0?e.data.filter(function(t){return-1!==e.filteredProjects.indexOf(t[P])}):e.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},t,a)}Ee.defaultProps={filteredProjects:[]};var Ae=Ee,Oe=a(23),Se=a.n(Oe);function Re(e){var t=[],a=0;for(var r in e){var l=!0,n=!1,o=void 0;try{for(var i,c=fe[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,d={};a++,d.key=a,d[P]=r,d[T]=s;for(var v=Object(u.a)(ve).concat([C]),f=0;f<v.length;f++){var y=v[f];d[y]=e[r][y][s]}t.push(d)}}catch(p){n=!0,o=p}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t}function Pe(e){var t=[],a=0;for(var r in e){var l=!0,n=!1,o=void 0;try{for(var i,c=F[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value,d={};a++,d.key=a,d[P]=r,d[T]=s;for(var v=Object(u.a)(ve).concat([C]),f=0;f<v.length;f++){var y=v[f];d[y]=e[r][y][s]}t.push(d)}}catch(p){n=!0,o=p}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return t}var Te=a(11),Ce=a.n(Te),_e=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(p.a)(t).call(this,e))).filterProjects=function(e){e.length>0?a.setState({filteredProjects:e}):a.setState({filteredProjects:[]})},a.exportData=function(){a.setState({loading:!0});var e=[P,T].concat(Object(u.a)(ve),[C]),t=Se.a.utils.json_to_sheet(Re(a.props.data.periodNewAddedData),{header:e}),r=Se.a.utils.json_to_sheet(Re(a.state.thisYearBeforePeriodData),{header:e}),l=Se.a.utils.json_to_sheet(Re(a.state.thisYearBeforePeriodTotalData),{header:e}),n=Se.a.utils.json_to_sheet(Re(a.state.thisYearTotalData),{header:e}),o=Se.a.utils.json_to_sheet(Re(a.state.lastYearBeforePeriodData),{header:e}),i=Se.a.utils.json_to_sheet(Re(a.state.lastYearBeforePeriodTotalData),{header:e}),c=Se.a.utils.json_to_sheet(Re(a.state.beforePeriodNeedHandleData),{header:e}),s=Se.a.utils.json_to_sheet(Re(a.state.periodTotalData),{header:e}),d=Se.a.utils.json_to_sheet(Pe(a.state.rateResult),{header:e}),v=Se.a.utils.book_new();Se.a.utils.book_append_sheet(v,t,Y),Se.a.utils.book_append_sheet(v,r,B),Se.a.utils.book_append_sheet(v,l,I),Se.a.utils.book_append_sheet(v,n,L),Se.a.utils.book_append_sheet(v,o,M),Se.a.utils.book_append_sheet(v,i,W),Se.a.utils.book_append_sheet(v,c,V),Se.a.utils.book_append_sheet(v,s,X),Se.a.utils.book_append_sheet(v,d,q),Se.a.writeFile(v,"statistic-"+Ce()(Date.now()).format("YYYY-MM-DD-HH-MM-SS")+".xlsx"),a.setState({loading:!1})},a.state={filteredProjects:[],loading:!1},a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(c.a,null,l.a.createElement(s.a,{span:16},l.a.createElement(b.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u8fc7\u6ee4\u7684\u9879\u76ee",labelCol:{span:4},wrapperCol:{span:16}},l.a.createElement(je.a,{mode:"multiple",style:{width:"100%"},onChange:this.filterProjects},this.props.projects.map(function(e){return l.a.createElement(je.a.Option,{key:e},e)})))),l.a.createElement(s.a,{span:8},l.a.createElement(D.a,{loading:this.state.loading,onClick:this.exportData},"\u5bfc\u51fa\u6570\u636e")))),l.a.createElement(c.a,null,l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:Y,data:Re(this.props.data.periodNewAddedResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:B,data:Re(this.props.data.thisYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:I,data:Re(this.props.data.thisYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:L,data:Re(this.props.data.thisYearTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:M,data:Re(this.props.data.lastYearBeforePeriodResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:W,data:Re(this.props.data.lastYearBeforePeriodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:V,data:Re(this.props.data.beforePeriodNeedHandleResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:X,data:Re(this.props.data.periodTotalResult),filteredProjects:this.state.filteredProjects})),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement(Ae,{title:q,data:Pe(this.props.data.rateResult),filteredProjects:this.state.filteredProjects}))))}}]),t}(l.a.Component);_e.defaultProps={data:{},projects:[]};var He=_e,Ne=a(327),ke=a.n(Ne),Ge=(a(702),a(145)),Fe=function(){for(var e={},t=Object(u.a)(ve).concat([C]),a=0;a<t.length;a++){var r=t[a];e[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=fe[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;e[r][s]=0}}catch(d){n=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e},Ye=function(){for(var e={},t=Object(u.a)(ve).concat([C]),a=0;a<t.length;a++){var r=t[a];e[r]={};var l=!0,n=!1,o=void 0;try{for(var i,c=F[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;e[r][s]=0}}catch(d){n=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}}return e},Be=function(e){return e["\u4e00\u7ea7\u62a5\u4e8b\u5206\u7c7b"]||"\u672a\u5206\u7c7b"};var Ie=function(e,t,a,r){var l=Ce.a.duration(t.diff(a)).subtract(r,"hours").as("days");e["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=e["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+l,l<7?e["\u5df2\u5173\u5904\u7406\u65f6\u957f\uff080-7\u5929\uff09"]++:l<15?e["\u5df2\u5173\u5904\u7406\u65f6\u957f\uff087-15\u5929\uff09"]++:l<30?e["\u5df2\u5173\u5904\u7406\u65f6\u957f\uff0815-30\u5929\uff09"]++:l<60?e["\u5df2\u5173\u5904\u7406\u65f6\u957f\uff0830-60\u5929\uff09"]++:e["\u5df2\u5173\u5904\u7406\u65f6\u957f\uff08\u5927\u4e8e60\u5929\uff09"]++},Le=function(e,t,a,r){var l=Ce.a.duration(Ce()(t).diff(a)).subtract(r,"hours").as("days");e["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=e["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+l,l<7?e["\u672a\u5173\u5904\u7406\u65f6\u957f\uff080-7\u5929\uff09"]++:l<15?e["\u672a\u5173\u5904\u7406\u65f6\u957f\uff087-15\u5929\uff09"]++:l<30?e["\u672a\u5173\u5904\u7406\u65f6\u957f\uff0815-30\u5929\uff09"]++:l<60?e["\u672a\u5173\u5904\u7406\u65f6\u957f\uff0830-60\u5929\uff09"]++:e["\u672a\u5173\u5904\u7406\u65f6\u957f\uff08\u5927\u4e8e60\u5929\uff09"]++},Me=function(e,t,a){for(var r in e)for(var l in a[r])e[r][l]["\u53d7\u7406"]>0&&(t===_?a[r][l][t]=(e[r][l]["\u5173\u95ed"]/e[r][l]["\u53d7\u7406"]).toFixed(4):t===H?a[r][l][t]=(e[r][l]["\u5173\u95ed"]/e[r][l]["\u53d7\u7406"]).toFixed(4):t===N?a[r][l][t]=(e[r][l]["\u5173\u95ed"]/e[r][l]["\u53d7\u7406"]).toFixed(4):t===k?a[r][l][t]=(e[r][l]["\u53ca\u65f6\u5173\u95ed"]/e[r][l]["\u53d7\u7406"]).toFixed(4):t===G&&(a[r][l][t]=(e[r][l]["\u5173\u95ed"]/e[r][l]["\u53d7\u7406"]).toFixed(4)))},We=function(e,t,a,r,l,n,o,i){var c=Ce()(l).set({month:0,date:1,hour:0,minute:0,second:0}),s={};s.periodNewAddedResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(V){i=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h[Z]),j=Number(h["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),w=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);D!==$&&D!==ee&&D!==re&&D!==ce&&D!==se&&D!==le&&D!==te&&D!==de&&D!==ie&&D!==ne&&D!==oe&&D!==ue||x["\u53d7\u7406"]++,(D===re||D===le||D===de||D===ne)&&w>=t&&w<=a&&(x["\u5173\u95ed"]++,null==h["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,Ie(x,w,g,j)),(D===$||D===ee||D===ce||D===se||D===ie||D===te||D===oe||D===ue||(D===re||D===le||D===de||D===ne)&&w>a)&&(x["\u5269\u4f59\u672a\u5173"]++,Le(x,a,g,j)),j>0&&x["\u6682\u505c\u5904\u7406"]++,D===re&&w>=t&&w<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===ne&&w>=t&&w<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==oe&&D!==ue||x["\u672a\u54cd\u5e94"]++,D===ae&&x["\u65e0\u6548"]++}}catch(V){v=!0,f=V}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var E in n){var A=!0,O=!1,S=void 0;try{for(var R,P=fe[Symbol.iterator]();!(A=(R=P.next()).done);A=!0){var T=R.value,_=!0,H=!1,N=void 0;try{for(var k,G=ve[Symbol.iterator]();!(_=(k=G.next()).done);_=!0){var F=k.value;n[E][C][T]+=n[E][F][T]}}catch(V){H=!0,N=V}finally{try{_||null==G.return||G.return()}finally{if(H)throw N}}}}catch(V){O=!0,S=V}finally{try{A||null==P.return||P.return()}finally{if(O)throw S}}}for(var Y in n)for(var B in n[Y]){var I=n[Y][B]["\u5173\u95ed"],L=n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=I>0?Number(L/I).toFixed(2):0;var M=n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],W=n[Y][B]["\u5269\u4f59\u672a\u5173"];n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=W>0?Number(M/W).toFixed(2):0}return n}(e,l,n,o,i),s.thisYearBeforePeriodResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(V){i=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h[Z]),j=Number(h["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),w=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===$||D===ee||D===ce||D===se||D===te||D===ie||D===oe||D===ue||(D===re||D===le||D===ne||D===de)&&w>=t)&&x["\u53d7\u7406"]++,(D===re||D===le||D===de||D===ne)&&w>=t&&w<=a&&(x["\u5173\u95ed"]++,null==h["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,Ie(x,w,g,j)),(D===$||D===ee||D===ce||D===se||D===ie||D===te||D===oe||D===ue||(D===re||D===le||D===de||D===ne)&&w>a)&&(x["\u5269\u4f59\u672a\u5173"]++,Le(x,a,g,j)),j>0&&x["\u6682\u505c\u5904\u7406"]++,D===re&&w>=t&&w<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===ne&&w>=t&&w<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==oe&&D!==ue||x["\u672a\u54cd\u5e94"]++,D===ae&&x["\u65e0\u6548"]++}}catch(V){v=!0,f=V}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var E in n){var A=!0,O=!1,S=void 0;try{for(var R,P=fe[Symbol.iterator]();!(A=(R=P.next()).done);A=!0){var T=R.value,_=!0,H=!1,N=void 0;try{for(var k,G=ve[Symbol.iterator]();!(_=(k=G.next()).done);_=!0){var F=k.value;n[E][C][T]+=n[E][F][T]}}catch(V){H=!0,N=V}finally{try{_||null==G.return||G.return()}finally{if(H)throw N}}}}catch(V){O=!0,S=V}finally{try{A||null==P.return||P.return()}finally{if(O)throw S}}}for(var Y in n)for(var B in n[Y]){var I=n[Y][B]["\u5173\u95ed"],L=n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=I>0?Number(L/I).toFixed(2):0;var M=n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],W=n[Y][B]["\u5269\u4f59\u672a\u5173"];n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=W>0?Number(M/W).toFixed(2):0}return n}(t,l,n,o,i),s.thisYearBeforePeriodTotalResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(G){i=!0,c=G}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===$||D===ee||D===ce||D===se||D===te||D===ie||D===oe||D===ue||(D===re||D===le||D===ne||D===de)&&g>=t&&g<=a)&&x["\u53d7\u7406"]++}}catch(G){v=!0,f=G}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var j in n){var w=!0,E=!1,A=void 0;try{for(var O,S=fe[Symbol.iterator]();!(w=(O=S.next()).done);w=!0){var R=O.value,P=!0,T=!1,_=void 0;try{for(var H,N=ve[Symbol.iterator]();!(P=(H=N.next()).done);P=!0){var k=H.value;n[j][C][R]+=n[j][k][R]}}catch(G){T=!0,_=G}finally{try{P||null==N.return||N.return()}finally{if(T)throw _}}}}catch(G){E=!0,A=G}finally{try{w||null==S.return||S.return()}finally{if(E)throw A}}}return n}(t,l,n,o,i),s.lastYearBeforePeriodResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(V){i=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h[Z]),j=Number(h["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),w=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===$||D===ee||D===ce||D===se||D===te||D===ie||D===oe||D===ue||(D===re||D===le||D===ne||D===de)&&w>=t)&&x["\u53d7\u7406"]++,(D===re||D===le||D===de||D===ne)&&w>=t&&w<=a&&(x["\u5173\u95ed"]++,null==h["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,Ie(x,w,g,j)),(D===$||D===ee||D===ce||D===se||D===ie||D===te||D===oe||D===ue||(D===re||D===le||D===de||D===ne)&&w>a)&&(x["\u5269\u4f59\u672a\u5173"]++,Le(x,a,g,j)),j>0&&x["\u6682\u505c\u5904\u7406"]++,D===re&&w>=t&&w<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===ne&&w>=t&&w<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==oe&&D!==ue||x["\u672a\u54cd\u5e94"]++,D===ae&&x["\u65e0\u6548"]++}}catch(V){v=!0,f=V}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var E in n){var A=!0,O=!1,S=void 0;try{for(var R,P=fe[Symbol.iterator]();!(A=(R=P.next()).done);A=!0){var T=R.value,_=!0,H=!1,N=void 0;try{for(var k,G=ve[Symbol.iterator]();!(_=(k=G.next()).done);_=!0){var F=k.value;n[E][C][T]+=n[E][F][T]}}catch(V){H=!0,N=V}finally{try{_||null==G.return||G.return()}finally{if(H)throw N}}}}catch(V){O=!0,S=V}finally{try{A||null==P.return||P.return()}finally{if(O)throw S}}}for(var Y in n)for(var B in n[Y]){var I=n[Y][B]["\u5173\u95ed"],L=n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=I>0?Number(L/I).toFixed(2):0;var M=n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],W=n[Y][B]["\u5269\u4f59\u672a\u5173"];n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=W>0?Number(M/W).toFixed(2):0}return n}(r,l,n,o,i),s.lastYearBeforePeriodTotalResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(V){i=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h[Z]),j=Number(h["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),w=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===$||D===ee||D===ce||D===se||D===te||D===ie||D===oe||D===ue||(D===re||D===le||D===ne||D===de)&&w>=t)&&x["\u53d7\u7406"]++,(D===re||D===le||D===de||D===ne)&&w>=t&&w<=a&&(x["\u5173\u95ed"]++,null==h["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,Ie(x,w,g,j)),(D===$||D===ee||D===ce||D===se||D===ie||D===te||D===oe||D===ue||(D===re||D===le||D===de||D===ne)&&w>a)&&(x["\u5269\u4f59\u672a\u5173"]++,Le(x,a,g,j)),j>0&&x["\u6682\u505c\u5904\u7406"]++,D===re&&w>=t&&w<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===ne&&w>=t&&w<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==oe&&D!==ue||x["\u672a\u54cd\u5e94"]++,D===ae&&x["\u65e0\u6548"]++}}catch(V){v=!0,f=V}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var E in n){var A=!0,O=!1,S=void 0;try{for(var R,P=fe[Symbol.iterator]();!(A=(R=P.next()).done);A=!0){var T=R.value,_=!0,H=!1,N=void 0;try{for(var k,G=ve[Symbol.iterator]();!(_=(k=G.next()).done);_=!0){var F=k.value;n[E][C][T]+=n[E][F][T]}}catch(V){H=!0,N=V}finally{try{_||null==G.return||G.return()}finally{if(H)throw N}}}}catch(V){O=!0,S=V}finally{try{A||null==P.return||P.return()}finally{if(O)throw S}}}for(var Y in n)for(var B in n[Y]){var I=n[Y][B]["\u5173\u95ed"],L=n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=I>0?Number(L/I).toFixed(2):0;var M=n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],W=n[Y][B]["\u5269\u4f59\u672a\u5173"];n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=W>0?Number(M/W).toFixed(2):0}return n}(r,c,n,o,i),s.thisYearTotalResult=function(e,t,a,r,l){var n={},o=!0,i=!1,c=void 0;try{for(var s,d=l[Symbol.iterator]();!(o=(s=d.next()).done);o=!0)n[s.value]=Fe()}catch(V){i=!0,c=V}finally{try{o||null==d.return||d.return()}finally{if(i)throw c}}var u=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(u=(y=p.next()).done);u=!0){var h=y.value,m=h[r];null==n[m]&&(n[m]=Fe());var b=Be(h),x=n[m][b],D=h[Q],g=Ce()(h[Z]),j=Number(h["\u7d2f\u8ba1\u6682\u505c\u65f6\u957f"]),w=Ce()(h["\u4e1a\u4e3b\u5173\u95ed\u65f6\u95f4"]||h["\u975e\u6b63\u5e38\u5173\u95ed\u65f6\u95f4"]||h["\u5f3a\u5236\u5173\u95ed\u65f6\u95f4"]);(D===$||D===ee||D===ce||D===se||D===te||D===ie||D===oe||D===ue||(D===re||D===le||D===ne||D===de)&&w>=t)&&x["\u53d7\u7406"]++,(D===re||D===le||D===de||D===ne)&&w>=t&&w<=a&&(x["\u5173\u95ed"]++,null==h["\u603b\u65f6\u957f\u8d85\u65f6\u9884\u8b66"]&&x["\u53ca\u65f6\u5173\u95ed"]++,Ie(x,w,g,j)),(D===$||D===ee||D===ce||D===se||D===ie||D===te||D===oe||D===ue||(D===re||D===le||D===de||D===ne)&&w>a)&&(x["\u5269\u4f59\u672a\u5173"]++,Le(x,a,g,j)),j>0&&x["\u6682\u505c\u5904\u7406"]++,D===re&&w>=t&&w<=a&&x["\u6b63\u5e38\u5173\u95ed"]++,D===ne&&w>=t&&w<=a&&x["\u975e\u6b63\u5e38\u5173\u95ed"]++,D!==oe&&D!==ue||x["\u672a\u54cd\u5e94"]++,D===ae&&x["\u65e0\u6548"]++}}catch(V){v=!0,f=V}finally{try{u||null==p.return||p.return()}finally{if(v)throw f}}for(var E in n){var A=!0,O=!1,S=void 0;try{for(var R,P=fe[Symbol.iterator]();!(A=(R=P.next()).done);A=!0){var T=R.value,_=!0,H=!1,N=void 0;try{for(var k,G=ve[Symbol.iterator]();!(_=(k=G.next()).done);_=!0){var F=k.value;n[E][C][T]+=n[E][F][T]}}catch(V){H=!0,N=V}finally{try{_||null==G.return||G.return()}finally{if(H)throw N}}}}catch(V){O=!0,S=V}finally{try{A||null==P.return||P.return()}finally{if(O)throw S}}}for(var Y in n)for(var B in n[Y]){var I=n[Y][B]["\u5173\u95ed"],L=n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];n[Y][B]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=I>0?Number(L/I).toFixed(2):0;var M=n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],W=n[Y][B]["\u5269\u4f59\u672a\u5173"];n[Y][B]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=W>0?Number(M/W).toFixed(2):0}return n}(a,c,n,o,i),s.beforePeriodNeedHandleResult=function(e,t){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=Fe()}catch(_){l=!0,n=_}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,d=void 0;try{for(var u,v=e[Symbol.iterator]();!(c=(u=v.next()).done);c=!0){var f=u.value;for(var y in f)for(var p in null==a[y]&&(a[y]=Fe()),a[y]){var h=!0,m=!1,b=void 0;try{for(var x,D=fe[Symbol.iterator]();!(h=(x=D.next()).done);h=!0){var g=x.value;if("\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var j=f[y][p]["\u5173\u95ed"],w=f[y][p]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];a[y][p]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+=j*w}else if("\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var E=f[y][p]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],A=f[y][p]["\u5269\u4f59\u672a\u5173"];a[y][p]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+=A*E}else a[y][p][g]+=f[y][p][g]}}catch(_){m=!0,b=_}finally{try{h||null==D.return||D.return()}finally{if(m)throw b}}}}}catch(_){s=!0,d=_}finally{try{c||null==v.return||v.return()}finally{if(s)throw d}}for(var O in a)for(var S in a[O]){var R=a[O][S]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"],P=a[O][S]["\u5173\u95ed"];a[O][S]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=P>0?Number(R/P).toFixed(2):0;var T=a[O][S]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],C=a[O][S]["\u5269\u4f59\u672a\u5173"];a[O][S]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=C>0?Number(T/C).toFixed(2):0}return a}([s.periodNewAddedResult,s.thisYearBeforePeriodResult,s.lastYearBeforePeriodResult],i),s.periodTotalResult=function(e,t){var a={},r=!0,l=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)a[o.value]=Fe()}catch(_){l=!0,n=_}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}var c=!0,s=!1,d=void 0;try{for(var u,v=e[Symbol.iterator]();!(c=(u=v.next()).done);c=!0){var f=u.value;for(var y in f)for(var p in null==a[y]&&(a[y]=Fe()),a[y]){var h=!0,m=!1,b=void 0;try{for(var x,D=fe[Symbol.iterator]();!(h=(x=D.next()).done);h=!0){var g=x.value;if("\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var j=f[y][p]["\u5173\u95ed"],w=f[y][p]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"];a[y][p]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]+=j*w}else if("\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"===g){var E=f[y][p]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],A=f[y][p]["\u5269\u4f59\u672a\u5173"];a[y][p]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]+=A*E}else a[y][p][g]+=f[y][p][g]}}catch(_){m=!0,b=_}finally{try{h||null==D.return||D.return()}finally{if(m)throw b}}}}}catch(_){s=!0,d=_}finally{try{c||null==v.return||v.return()}finally{if(s)throw d}}for(var O in a)for(var S in a[O]){var R=a[O][S]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"],P=a[O][S]["\u5173\u95ed"];a[O][S]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]=P>0?Number(R/P).toFixed(2):0;var T=a[O][S]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"],C=a[O][S]["\u5269\u4f59\u672a\u5173"];a[O][S]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]=C>0?Number(T/C).toFixed(2):0}return a}([s.lastYearBeforePeriodTotalResult,s.thisYearTotalResult],i),s.rateResult={};var d=!0,u=!1,v=void 0;try{for(var f,y=i[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var p=f.value;s.rateResult[p]=Ye()}}catch(h){u=!0,v=h}finally{try{d||null==y.return||y.return()}finally{if(u)throw v}}return Me(s.periodNewAddedResult,_,s.rateResult),Me(s.thisYearBeforePeriodResult,H,s.rateResult),Me(s.beforePeriodNeedHandleResult,N,s.rateResult),Me(s.beforePeriodNeedHandleResult,k,s.rateResult),Me(s.periodTotalResult,G,s.rateResult),s},Ve=function(e,t){var a={totalAcceptData:[],overallCloseRateData:[],newAddedAcceptData:[],newAddedCloseRateData:[],needHandleAcceptData:[],needHandleCloseOnTimeRateData:[],needHandleCloseRateData:[],openData:[],closeAverageHandleTimeData:[],openAverageHandleTimeData:[]},r=!0,l=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var c=o.value;a.totalAcceptData=Object(u.a)(a.totalAcceptData).concat([{name:c,value:e.periodTotalResult[c][C]["\u53d7\u7406"]}]),a.overallCloseRateData=Object(u.a)(a.overallCloseRateData).concat([{name:c,value:e.rateResult[c][C][N]}]),a.newAddedAcceptData=Object(u.a)(a.newAddedAcceptData).concat([{name:c,value:e.periodNewAddedResult[c][C]["\u53d7\u7406"]}]),a.newAddedCloseRateData=Object(u.a)(a.newAddedCloseRateData).concat([{name:c,value:e.rateResult[c][C][_]}]),a.needHandleAcceptData=Object(u.a)(a.needHandleAcceptData).concat([{name:c,value:e.beforePeriodNeedHandleResult[c][C]["\u53d7\u7406"]}]),a.needHandleCloseOnTimeRateData=Object(u.a)(a.needHandleCloseOnTimeRateData).concat([{name:c,value:e.rateResult[c][C][k]}]),a.needHandleCloseRateData=Object(u.a)(a.needHandleCloseRateData).concat([{name:c,value:e.rateResult[c][C][N]}]),a.closeAverageHandleTimeData=Object(u.a)(a.closeAverageHandleTimeData).concat([{name:c,value:e.periodNewAddedResult[c][C]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),a.openAverageHandleTimeData=Object(u.a)(a.openAverageHandleTimeData).concat([{name:c,value:e.periodNewAddedResult[c][C]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),a.openData=Object(u.a)(a.openData).concat([{name:c,value:e.periodTotalResult[c][C]["\u5269\u4f59\u672a\u5173"]}])}}catch(s){l=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}return a},Xe=function(e,t,a){var r={totalAcceptData:[],overallCloseRateData:[],newAddedAcceptData:[],newAddedCloseRateData:[],needHandleAcceptData:[],needHandleCloseOnTimeRateData:[],needHandleCloseRateData:[],openData:[],closeAverageHandleTimeData:[],openAverageHandleTimeData:[]},l=!0,n=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;r.totalAcceptData=Object(u.a)(r.totalAcceptData).concat([{name:s,value:e.periodTotalResult[a][s]["\u53d7\u7406"]}]),r.overallCloseRateData=Object(u.a)(r.overallCloseRateData).concat([{name:s,value:e.rateResult[a][s][N]}]),r.newAddedAcceptData=Object(u.a)(r.newAddedAcceptData).concat([{name:s,value:e.periodNewAddedResult[a][s]["\u53d7\u7406"]}]),r.newAddedCloseRateData=Object(u.a)(r.newAddedCloseRateData).concat([{name:s,value:e.rateResult[a][s][_]}]),r.needHandleAcceptData=Object(u.a)(r.needHandleAcceptData).concat([{name:s,value:e.beforePeriodNeedHandleResult[a][s]["\u53d7\u7406"]}]),r.needHandleCloseOnTimeRateData=Object(u.a)(r.needHandleCloseOnTimeRateData).concat([{name:s,value:e.rateResult[a][s][k]}]),r.needHandleCloseRateData=Object(u.a)(r.needHandleCloseRateData).concat([{name:s,value:e.rateResult[a][s][N]}]),r.closeAverageHandleTimeData=Object(u.a)(r.closeAverageHandleTimeData).concat([{name:s,value:e.periodNewAddedResult[a][s]["\u5df2\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),r.openAverageHandleTimeData=Object(u.a)(r.openAverageHandleTimeData).concat([{name:s,value:e.periodNewAddedResult[a][s]["\u672a\u5173\u65f6\u957f\uff08\u5929\uff09"]}]),r.openData=Object(u.a)(r.openData).concat([{name:s,value:e.periodTotalResult[a][s]["\u5269\u4f59\u672a\u5173"]}])}}catch(d){n=!0,o=d}finally{try{l||null==c.return||c.return()}finally{if(n)throw o}}return r},qe=[],ze=[],Ue=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(y.a)(this,Object(p.a)(t).call(this,e))).start=function(e,t,r){var l=a.props,n=l.addCategories,o=l.addTicketStates;a.setState({loading:!0}),function(e){return new Promise(function(t,a){var r=new FileReader,l=[];!function a(n){n<e.length?(r.onload=function(e){var t=Se.a.read(e.target.result,{type:"binary"}),r=t.Sheets[t.SheetNames[0]];l=Object(u.a)(l).concat(Object(u.a)(Se.a.utils.sheet_to_json(r,{blankrows:!1}))),a(n+1)},r.readAsBinaryString(e[n])):t(l)}(0)})}(e).then(function(e){var l=[],i=[],c=[],s=[],d=!0,v=!1,f=void 0;try{for(var y,p=e[Symbol.iterator]();!(d=(y=p.next()).done);d=!0){var h=y.value,m=Be(h);-1===qe.indexOf(m)&&(qe=Object(u.a)(qe).concat([m]));var b=h[Q];-1===ze.indexOf(b)&&(ze=Object(u.a)(ze).concat([b]));var x=h[K];-1===l.indexOf(x)&&(l=Object(u.a)(l).concat([x]));var D=h[J];-1===i.indexOf(D)&&(i=Object(u.a)(i).concat([D]));var g=h[U];-1===c.indexOf(g)&&(c=Object(u.a)(c).concat([g]));var j=h[z];-1===s.indexOf(j)&&(s=Object(u.a)(s).concat([j]))}}catch(B){v=!0,f=B}finally{try{d||null==p.return||p.return()}finally{if(v)throw f}}n(qe),o(ze);var w=ve;a.setState({allStages:l,allProjects:i,allCities:c,allAreas:s,allCategories:w});var E=Ce()(t).set({month:0,date:1,hour:0,minute:0,second:0}),A=e.filter(function(e){var a=Ce()(e[Z]);return a>=t&&a<=r}),O=e.filter(function(e){var a=Ce()(e[Z]);return a>=E&&a<t}),S=e.filter(function(e){var t=Ce()(e[R]);return t<=r&&t>=E}),P=e.filter(function(e){return Ce()(e[Z])<E}),T=We(A,O,S,P,t,r,K,l);a.setState({stageData:T});var C=We(A,O,S,P,t,r,J,i);a.setState({projectData:C});var _=We(A,O,S,P,t,r,U,c);a.setState({cityData:_});var H=We(A,O,S,P,t,r,z,s);a.setState({areaData:H});var N=Ve(T,l);a.setState({stageGraphData:N});var k=Ve(C,i);a.setState({projectGraphData:k});var G=Ve(_,c);a.setState({cityGraphData:G});var F=Ve(H,s);a.setState({areaGraphData:F});var Y=Xe(H,w,s[0]);a.setState({categoryGraphData:Y}),a.setState({loading:!1})})},a.state={stageGraphData:{},cityGraphData:{},projectGraphData:{},areaGraphData:{},categoryGraphData:{}},a}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=l.a.createElement(ge,{stageGraphData:this.state.stageGraphData,projectGraphData:this.state.projectGraphData,cityGraphData:this.state.cityGraphData,areaGraphData:this.state.areaGraphData,categoryGraphData:this.state.categoryGraphData,allStages:this.state.allStages,allProjects:this.state.allProjects,allCities:this.state.allCities,allAreas:this.state.allAreas,allCategories:this.state.allCategories}),t=l.a.createElement(He,{data:this.state.areaData,projects:this.state.allAreas}),a=l.a.createElement(He,{data:this.state.cityData,projects:this.state.allCities}),r=l.a.createElement(He,{data:this.state.projectData,projects:this.state.allProjects}),n=l.a.createElement(He,{data:this.state.stageData,projects:this.state.allStages});return l.a.createElement(i.a,{locale:ke.a},l.a.createElement("div",null,l.a.createElement("h2",{className:"text--center heading"},"\u7edf\u8ba1\u8f85\u52a9\u5de5\u5177"),l.a.createElement(w,{onStart:this.start,onExport:this.exportExcel,loading:this.state.loading}),l.a.createElement(c.a,{style:{margin:"40px 0"}},l.a.createElement(s.a,{span:22,offset:1},l.a.createElement(d.a,{type:"card"},l.a.createElement(d.a.TabPane,{tab:"\u7edf\u8ba1\u56fe",key:"\u7edf\u8ba1\u56fe"},e),l.a.createElement(d.a.TabPane,{tab:"\u5927\u533a",key:"\u5927\u533a"},t),l.a.createElement(d.a.TabPane,{tab:"\u57ce\u5e02",key:"\u57ce\u5e02"},a),l.a.createElement(d.a.TabPane,{tab:"\u9879\u76ee",key:"\u9879\u76ee"},r),l.a.createElement(d.a.TabPane,{tab:"\u5206\u671f",key:"\u5206\u671f"},n))))))}}]),t}(r.Component),Je={addCategories:function(e){return{type:"ADD_CATEGORIES",payload:{categories:e}}},addTicketStates:function(e){return{type:"ADD_TICKET_STATES",payload:{ticketStates:e}}}},Ke=Object(Ge.b)(null,Je)(Ue),Qe=a(78),Ze=Object(Qe.b)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":var a=t.payload.category;return Object(u.a)(e).concat([a]);case"ADD_CATEGORIES":var r=t.payload.categories;return Object(u.a)(e).concat(Object(u.a)(r));default:return e}},ticketState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TICKET_STATES":var a=t.payload.ticketStates;return Object(u.a)(e).concat(Object(u.a)(a));default:return e}}}),$e=Object(Qe.c)(Ze,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(l.a.createElement(Ge.a,{store:$e},l.a.createElement(Ke,null)),document.getElementById("root"))}},[[334,2,1]]]);
//# sourceMappingURL=main.3a11557a.chunk.js.map