(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t){},211:function(e,t,a){e.exports=a(459)},216:function(e,t,a){},229:function(e,t,a){},451:function(e,t){},452:function(e,t){},459:function(e,t,a){"use strict";a.r(t);var r=a(1),i=a.n(r),o=a(9),l=a.n(o),n=(a(216),a(218),a(208)),s=(a(76),a(26)),d=(a(85),a(36)),c=(a(223),a(75)),u=(a(226),a(207)),f=a(81),h=a(146),v=a(43),m=a(44),p=a(46),y=a(45),D=a(47),b=a(13),P=(a(229),a(461),a(149)),E=(a(143),a(31)),x=(a(460),a(206)),Y=(a(109),a(57)),j=a(82),R=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).compareToStartDate=function(e,t,r){var i=a.props.form;t&&t<i.getFieldValue("startDate")?r("\u7ed3\u675f\u65f6\u95f4\u5e94\u5927\u4e8e\u5f00\u59cb\u65f6\u95f4!"):r()},a.compareToEndDate=function(e,t,r){var i=a.props.form;t&&t>i.getFieldValue("endDate")?r("\u5f00\u59cb\u65f6\u95f4\u5e94\u5c0f\u4e8e\u7ed3\u675f\u65f6\u95f4!"):r()},a.state={fileList:[]},a.startStatistic=a.startStatistic.bind(Object(j.a)(Object(j.a)(a))),a}return Object(D.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){var e=this;return new Promise(function(t,a){e.props.form.validateFields(function(e,r){e?a():t()})})}},{key:"startStatistic",value:function(){var e=this;this.validateForm().then(function(){var t=e.props.form,a=new Date(t.getFieldValue("startDate").set({hour:0,minute:0,second:0})),r=new Date(t.getFieldValue("endDate").set({hour:23,minute:59,second:59}));e.props.onStart(e.state.fileList,a,r)}).catch(function(){})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return i.a.createElement(E.a,{layout:"horizontal"},i.a.createElement(s.a,null,i.a.createElement(d.a,{span:12},i.a.createElement(E.a.Item,{label:"\u8bf7\u9009\u62e9\u6587\u4ef6",labelCol:{span:8},wrapperCol:{span:16}},t("files",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8981\u7edf\u8ba1\u7684\u6587\u4ef6!"}]})(i.a.createElement(x.a,{accept:".xls,xlsx",multiple:!0,fileList:this.state.fileList,beforeUpload:function(t){return e.setState(function(e){var a=e.fileList;return{fileList:Object(b.a)(a).concat([t])}}),!1},onRemove:function(t){e.setState(function(e){var a=e.fileList,r=a.indexOf(t),i=a.slice();return i.splice(r,1),{fileList:i}})}},i.a.createElement(Y.a,null,"\u652f\u6301\u6587\u4ef6\u683c\u5f0f: .xls, .xlsx")))))),i.a.createElement(s.a,null,i.a.createElement(d.a,{span:8},i.a.createElement(E.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},t("startDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u5f00\u59cb\u65f6\u95f4"},{validator:this.compareToEndDate}]})(i.a.createElement(P.a,null)))),i.a.createElement(d.a,{span:8},i.a.createElement(E.a.Item,{label:"\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4",labelCol:{span:12},wrapperCol:{span:12}},t("endDate",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7edf\u8ba1\u5468\u671f\u7ed3\u675f\u65f6\u95f4"},{validator:this.compareToStartDate}]})(i.a.createElement(P.a,null))))),i.a.createElement(s.a,null,i.a.createElement(d.a,{offset:4},i.a.createElement(Y.a,{loading:this.props.loading,type:"primary",onClick:this.startStatistic},this.props.loading?"\u6b63\u5728\u7edf\u8ba1...":"\u5f00\u59cb\u7edf\u8ba1"),i.a.createElement(Y.a,{style:{margin:"0 20px"},onClick:this.props.onExport},"\u5bfc\u51faExcel\u8868\u683c"))))}}]),t}(i.a.Component);R.defaultPorps={onStart:function(){},onExport:function(){}};var g=E.a.create()(R),T=(a(142),a(41)),w="\u7cfb\u7edf\u5355\u6570",B="\u53d7\u7406",O="\u5269\u4f59\u672a\u5173",N="\u5f85\u590d\u9a8c",S="\u6682\u505c\u5904\u7406",C="\u5224\u5b9a\u65e0\u6548",F="\u5173\u95ed",k="\u6b63\u5e38\u5173\u95ed",_="\u975e\u6b63\u5e38\u5173\u95ed",A="\u53ca\u65f6\u5173\u95ed",H="\u54cd\u5e94\u53ca\u65f6\u5355\uff080.5h\uff09",I="\u54cd\u5e94\u53ca\u65f6\u5355\uff0830h\uff09",L="\u5df2\u5173\u5e73\u5747\u5904\u7406\u65f6\u957f\uff08\u5929\uff09",z="\u5269\u4f59\u672a\u5173\u5e73\u5747\u5904\u7406\u65f6\u957f\uff08\u5929\uff09",M=[w,B,O,N,S,C,F,k,_,A,H,I,L,z],V="\u62a5\u4e8b\u65f6\u95f4",q="\u9879\u76ee",J="\u4e8c\u7ea7\u5206\u7c7b",W="\u5de5\u5355\u72b6\u6001",U="\u662f\u5426\u8d85\u671f\u5904\u7406",$="\u9996\u6b21\u54cd\u5e94\u65f6\u957f",G="\u5904\u7406\u65f6\u957f",K="\u5b9e\u9645\u5173\u95ed\u65f6\u95f4",Q="\u7edf\u8ba1\u9879\u76ee",X="\u5408\u8ba1",Z="\u57ce\u5e02",ee=["\u5899\u5730\u9762\u53ca\u5929\u68da","\u6e17\u6f0f","\u95e8\u7a97","\u5f3a\u5f31\u7535","\u7ed9\u6392\u6c34","\u53a8\u623f\u8bbe\u5907","\u536b\u751f\u8bbe\u5907","\u5236\u51b7\u8bbe\u5907","\u56fa\u88c5\u7cbe\u88c5\u90e8\u54c1","\u516c\u5171\u533a\u57df","\u5176\u4ed6"],te="\u65b0\u589e\u5173\u95ed\u7387",ae="\u9057\u7559\u5173\u95ed\u7387",re="\u603b\u4f53\u5173\u95ed\u7387",ie="\u54cd\u5e94\u53ca\u65f6\u7387\uff080.5h\uff09",oe="\u54cd\u5e94\u53ca\u65f6\u7387\uff0830h\uff09",le="\u53ca\u65f6\u5173\u95ed\u7387",ne="\u7d2f\u8ba1\u603b\u4f53\u5173\u95ed\u7387",se=[ae,te,re,ie,oe,le,ne],de="\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u65b0\u589e",ce="\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",ue="\u672c\u5e74\u5ea6\u622a\u6b62\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",fe="\u672c\u5e74\u5ea6\u7d2f\u8ba1",he="\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559",ve="\u4e0a\u5e74\u5ea6\u622a\u81f3\u7edf\u8ba1\u5468\u671f\u524d\u9057\u7559\u7d2f\u8ba1",me="\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185\u9700\u5904\u7406",pe="\u622a\u81f3\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u7d2f\u8ba1",ye="\u672c\u5e74\u5ea6\u7edf\u8ba1\u5468\u671f\u5185",De=["\u4e00\u671f","\u4e8c\u671f","\u4e09\u671f","\u56db\u671f","\u4e94\u671f","\u516d\u671f","\u4e03\u671f","\u516b\u671f","\u4e5d\u671f","\u5341\u671f"];var be=function(e){var t=[Q].concat(Object(b.a)(ee),[X]).map(function(e){return i.a.createElement(T.a.Column,{dataIndex:e,title:e,key:e,width:300})});return i.a.createElement(T.a,{title:function(t){return e.title},dataSource:e.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},t)},Pe=function(e){function t(){return Object(v.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(s.a,null,i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:de,data:this.props.periodNewAddedData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:ce,data:this.props.thisYearBeforePeriodData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:ue,data:this.props.thisYearBeforePeriodTotalData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:fe,data:this.props.thisYearTotalData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:he,data:this.props.lastYearBeforePeriodData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:ve,data:this.props.lastYearBeforePeriodTotalData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:me,data:this.props.beforePeriodNeedHandleData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:pe,data:this.props.periodTotalData})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(be,{title:ye,data:this.props.rateData})))}}]),t}(i.a.Component),Ee=(a(140),a(30));function xe(e){var t=i.a.createElement(T.a.Column,{dataIndex:Z,title:Z,key:Z,width:300}),a=[Q].concat(Object(b.a)(ee),[X]).map(function(e){return i.a.createElement(T.a.Column,{dataIndex:e,title:e,key:e,width:300})});return i.a.createElement(T.a,{title:function(t){return e.title},dataSource:e.filteredCities.length>0?e.data.filter(function(t){return-1!=e.filteredCities.indexOf(t[Z])}):e.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},t,a)}xe.defaultProps={filteredCities:[]};var Ye=xe,je=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).filterCities=function(e){null!=e&&e.length>0?a.setState({filteredCities:e}):a.setState({filteredCities:[]})},a.state={filteredCities:[]},a}return Object(D.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement(s.a,null,i.a.createElement(d.a,{span:16},i.a.createElement(E.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u8fc7\u6ee4\u7684\u57ce\u5e02",labelCol:{span:4},wrapperCol:{span:16}},i.a.createElement(Ee.a,{mode:"multiple",style:{width:"100%"},onChange:this.filterCities},this.props.cities.map(function(e){return i.a.createElement(Ee.a.Option,{key:e},e)})))))),i.a.createElement(s.a,null,i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:de,data:this.props.periodNewAddedData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:ce,data:this.props.thisYearBeforePeriodData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:ue,data:this.props.thisYearBeforePeriodTotalData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:fe,data:this.props.thisYearTotalData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:he,data:this.props.lastYearBeforePeriodData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:ve,data:this.props.lastYearBeforePeriodTotalData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:me,data:this.props.beforePeriodNeedHandleData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:pe,data:this.props.periodTotalData,filteredCities:this.state.filteredCities})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Ye,{title:ye,data:this.props.rateData,filteredCities:this.state.filteredCities}))))}}]),t}(i.a.Component);je.defaultProps={cities:[]};var Re=je;function ge(e){var t=i.a.createElement(T.a.Column,{dataIndex:q,title:q,key:q,width:300}),a=[Q].concat(Object(b.a)(ee),[X]).map(function(e){return i.a.createElement(T.a.Column,{dataIndex:e,title:e,key:e,width:300})});return i.a.createElement(T.a,{title:function(t){return e.title},dataSource:e.filteredProjects.length>0?e.data.filter(function(t){return-1!=e.filteredProjects.indexOf(t[q])}):e.data,pagination:{pageSize:50},scroll:{y:400},size:"small"},t,a)}ge.defaultProps={filteredProjects:[]};var Te=ge;function we(e){var t=e.match(/\(.*?\)|\uff08.*?\uff09/);return t?e.substring(0,e.indexOf(t)):e}function Be(e){var t=e.match(/\d+/g),a=0,r=0,i=0;return t&&t.length>0&&(a=window.parseInt(t[0]),r=window.parseInt(t[1]),i=window.parseInt(t[2])),{day:a,hour:r,min:i}}function Oe(e){var t=!0,a=!1,r=void 0;try{for(var i,o=De[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;if(-1!=e.indexOf(l))return e.substring(0,e.indexOf(l))}}catch(n){a=!0,r=n}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}return e}function Ne(e){var t=[],a=0;for(var r in e){var i=!0,o=!1,l=void 0;try{for(var n,s=M[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c={};a++,c.key=a,c[q]=r,c[Q]=d;for(var u=Object(b.a)(ee).concat([X]),f=0;f<u.length;f++){var h=u[f];c[h]=e[r][h][d]}t.push(c)}}catch(v){o=!0,l=v}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}return t}function Se(e){var t=[],a=0,r=!0,i=!1,o=void 0;try{for(var l,n=M[Symbol.iterator]();!(r=(l=n.next()).done);r=!0){var s=l.value,d={};a++,d.key=a,d[Q]=s;for(var c=Object(b.a)(ee).concat([X]),u=0;u<c.length;u++){var f=c[u];d[f]=e[f][s]}t.push(d)}}catch(h){i=!0,o=h}finally{try{r||null==n.return||n.return()}finally{if(i)throw o}}return t}function Ce(e){var t=[],a=0;for(var r in e)for(var i=[te,ae,re,ie,oe,le,ne],o=0;o<i.length;o++){var l=i[o],n={};a++,n.key=a,n[q]=r,n[Q]=l;for(var s=Object(b.a)(ee).concat([X]),d=0;d<s.length;d++){var c=s[d];n[c]=e[r][c][l]}t.push(n)}return t}var Fe=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).filterCity=function(e){if(null!=a.props.projectData[e]){a.setState({data:a.props.projectData[e]});var t=[];for(var r in a.props.projectData[e])for(var i in a.props.projectData[e][r])-1==t.indexOf(i)&&(t=Object(b.a)(t).concat([i]));a.setState({projects:t})}},a.filterProjects=function(e){e.length>0?a.setState({filteredProjects:e}):a.setState({filteredProjects:[]})},a.state={projects:[],data:{}},a}return Object(D.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement(s.a,null,i.a.createElement(d.a,{span:16},i.a.createElement(E.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u663e\u793a\u7684\u57ce\u5e02",labelCol:{span:4},wrapperCol:{span:16}},i.a.createElement(Ee.a,{style:{width:"100%"},onChange:this.filterCity},this.props.cities.map(function(e){return i.a.createElement(Ee.a.Option,{key:e},e)}))))),i.a.createElement(s.a,null,i.a.createElement(d.a,{span:16},i.a.createElement(E.a.Item,{label:"\u8bf7\u9009\u62e9\u8981\u8fc7\u6ee4\u7684\u9879\u76ee",labelCol:{span:4},wrapperCol:{span:16}},i.a.createElement(Ee.a,{mode:"multiple",style:{width:"100%"},onChange:this.filterProjects},this.state.projects.map(function(e){return i.a.createElement(Ee.a.Option,{key:e},e)})))))),i.a.createElement(s.a,null,i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:de,data:Ne(this.state.data.periodNewAddedResult),filteredProjects:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:ce,data:Ne(this.state.data.thisYearBeforePeriodResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:ue,data:Ne(this.state.data.thisYearBeforePeriodTotalResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:fe,data:Ne(this.state.data.thisYearTotalResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:he,data:Ne(this.state.data.lastYearBeforePeriodResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:ve,data:Ne(this.state.data.lastYearBeforePeriodTotalResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:me,data:Ne(this.state.data.beforePeriodNeedHandleResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:pe,data:Ne(this.state.data.periodTotalResult),filteredCities:this.state.filteredProjects})),i.a.createElement("div",{style:{margin:"20px 0"}},i.a.createElement(Te,{title:ye,data:Ce(this.state.data.rateResult),filteredCities:this.state.filteredProjects}))))}}]),t}(i.a.Component);Fe.defaultProps={cities:[],projectData:{}};var ke=Fe,_e=a(19),Ae=a.n(_e),He=a(203),Ie=a.n(He),Le=a(12),ze=a.n(Le),Me=(a(453),"\u5904\u7406\u4e2d"),Ve="\u6682\u505c\u5904\u7406",qe="\u5f85\u590d\u9a8c",Je="\u5df2\u5173\u95ed",We="\u975e\u6b63\u5e38\u5173\u95ed",Ue="\u5224\u5b9a\u65e0\u6548",$e="\u5426";function Ge(){for(var e={},t=Object(b.a)(ee).concat([X]),a=0;a<t.length;a++){var r=t[a];e[r]={};var i=!0,o=!1,l=void 0;try{for(var n,s=se[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value;e[r][d]=0}}catch(c){o=!0,l=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}return e}function Ke(){for(var e={},t=Object(b.a)(ee).concat([X]),a=0;a<t.length;a++){var r=t[a];e[r]={};var i=!0,o=!1,l=void 0;try{for(var n,s=M[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value;e[r][d]=0}}catch(c){o=!0,l=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}return e}function Qe(e){return 0===e.indexOf(Me)}function Xe(e,t,a){for(var r in e){null==a[r]&&(a[r]=Ge());for(var i=Object(b.a)(ee).concat([X]),o=0;o<i.length;o++){var l=i[o];t===te&&e[r][l][B]>0?a[r][l][t]=(e[r][l][F]/e[r][l][B]).toFixed(4):t===ae&&e[r][l][B]>0?a[r][l][t]=(e[r][l][F]/e[r][l][B]).toFixed(4):t===re&&e[r][l][B]>0?a[r][l][t]=(e[r][l][F]/e[r][l][B]).toFixed(4):t===ie&&e[r][l][w]>0?a[r][l][t]=(e[r][l][H]/e[r][l][w]).toFixed(4):t===oe&&e[r][l][w]>0?a[r][l][t]=(e[r][l][I]/e[r][l][w]).toFixed(4):t===le&&e[r][l][B]>0?a[r][l][t]=(e[r][l][A]/e[r][l][B]).toFixed(4):t===ne&&e[r][l][B]>0&&(a[r][l][t]=(e[r][l][F]/e[r][l][B]).toFixed(4))}}}function Ze(e,t,a){for(var r=Object(b.a)(ee).concat([X]),i=0;i<r.length;i++){var o=r[i];null==a[o]&&(a[o]={}),t===te&&e[o][B]>0?a[o][t]=(e[o][F]/e[o][B]).toFixed(4):t===ae&&e[o][B]>0?a[o][t]=(e[o][F]/e[o][B]).toFixed(4):t===re&&e[o][B]>0?a[o][t]=(e[o][F]/e[o][B]).toFixed(4):t===ie&&e[o][w]>0?a[o][t]=(e[o][H]/e[o][w]).toFixed(4):t===oe&&e[o][w]>0?a[o][t]=(e[o][I]/e[o][w]).toFixed(4):t===le&&e[o][B]>0?a[o][t]=(e[o][A]/e[o][B]).toFixed(4):t===ne&&e[o][B]>0&&(a[o][t]=(e[o][F]/e[o][B]).toFixed(4))}}var et=0;function tt(e,t){var a=[],r=!0,i=!1,o=void 0;try{for(var l,n=M[Symbol.iterator]();!(r=(l=n.next()).done);r=!0){var s=l.value,d={};et++,d.key=et,d[Z]=t,d[Q]=s;for(var c=Object(b.a)(ee).concat([X]),u=0;u<c.length;u++){var f=c[u];d[f]=e[f][s]}a.push(d)}}catch(h){i=!0,o=h}finally{try{r||null==n.return||n.return()}finally{if(i)throw o}}return a}function at(e,t){for(var a=[],r=[te,ae,re,ie,oe,le,ne],i=0;i<r.length;i++){var o=r[i],l={};et++,l.key=et,l[Z]=t,l[Q]=o;for(var n=Object(b.a)(ee).concat([X]),s=0;s<n.length;s++){var d=n[s];l[d]=e[d][o]}a.push(l)}return a}function rt(e,t){var a={};for(var r in e.forEach(function(e){for(var r in e){var i=t(r);null==a[i]&&(a[i]=Ke());for(var o=Object(b.a)(ee).concat([X]),l=0;l<o.length;l++){var n=o[l],s=!0,d=!1,c=void 0;try{for(var u,f=M[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var h=u.value;if(h===L){var v=e[r][n][F],m=e[r][n][L];a[i][n][L]+=v*m}else if(h===z){var p=e[r][n][z],y=e[r][n][O];a[i][n][z]+=y*p}else a[i][n][h]+=e[r][n][h]}}catch(D){d=!0,c=D}finally{try{s||null==f.return||f.return()}finally{if(d)throw c}}}}}),a)for(var i in a[r]){var o=a[r][i][L],l=a[r][i][F];a[r][i][L]=l>0?Number(o/l).toFixed(2):0;var n=a[r][i][z],s=a[r][i][O];a[r][i][z]=s>0?Number(n/s).toFixed(2):0}return a}function it(e){var t=Ke();for(var a in e.forEach(function(e){for(var a in e)for(var r=Object(b.a)(ee).concat([X]),i=0;i<r.length;i++){var o=r[i],l=!0,n=!1,s=void 0;try{for(var d,c=M[Symbol.iterator]();!(l=(d=c.next()).done);l=!0){var u=d.value;if(u===L){var f=e[a][o][F],h=e[a][o][L];t[o][L]+=f*h}else if(u===z){var v=e[a][o][z],m=e[a][o][O];t[o][z]+=m*v}else t[o][u]+=e[a][o][u]}}catch(p){n=!0,s=p}finally{try{l||null==c.return||c.return()}finally{if(n)throw s}}}}),t){var r=t[a][L],i=t[a][F];t[a][L]=i>0?Number(r/i).toFixed(2):0;var o=t[a][z],l=t[a][O];t[a][z]=l>0?Number(o/l).toFixed(2):0}return t}function ot(e,t,a){var r=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W],v=ze()(d[K]);if((Qe(h)||h===We||h===Je||h===Ve)&&f[B]++,(Qe(h)||h==Ve||(h===We||h===Je)&&v>a)&&f[O]++,Qe(h)&&h.indexOf(qe)>0&&f[N]++,h===Ve&&f[S]++,h==Ue&&f[C]++,(h===Je||h===We)&&v>=t&&v<=a&&f[F]++,h===Je&&v>=t&&v<=a&&f[k]++,h===We&&v>=t&&v<=a&&f[_]++,h!==Je&&h!==We||d[U]!==$e||v>=t&&v<=a&&f[A]++,Qe(h)||h===We||h===Je||h===Ve){var m=Be(d[$]),p=m.day,y=m.hour,D=m.min;24*p*60+60*y+D<=30&&f[H]++,24*p*60+60*y+D<=1800&&f[I]++}if(h===Je||h===We){var b=ze()(d[K]);if(b>=t&&b<=a){var P=Be(d[G]),E=P.day,x=P.hour,Y=P.min;f[L]+=E+x/24+Y/60/24}}if(Qe(h)||h===Ve||(h===We||h===Je)&&v>a){var j=Be(d[G]),R=j.day,g=j.hour,T=j.min;f[z]+=R+g/24+T/60/24}(Qe(h)||h===We||h===Je||h===Ve||h==Ue)&&f[w]++}}catch(pe){o=!0,l=pe}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var V in r){var Q=!0,Z=!1,te=void 0;try{for(var ae,re=ee[Symbol.iterator]();!(Q=(ae=re.next()).done);Q=!0){var ie=ae.value,oe=!0,le=!1,ne=void 0;try{for(var se,de=M[Symbol.iterator]();!(oe=(se=de.next()).done);oe=!0){var ce=se.value;r[V][X][ce]+=r[V][ie][ce]}}catch(pe){le=!0,ne=pe}finally{try{oe||null==de.return||de.return()}finally{if(le)throw ne}}}}catch(pe){Z=!0,te=pe}finally{try{Q||null==re.return||re.return()}finally{if(Z)throw te}}for(var ue in r[V]){var fe=r[V][ue][L],he=r[V][ue][F];r[V][ue][L]=he>0?Number(fe/he).toFixed(2):0;var ve=r[V][ue][z],me=r[V][ue][O];r[V][ue][z]=me>0?Number(ve/me).toFixed(2):0}}return r}(e.filter(function(e){var r=ze()(e[V]);return null!=e[J]&&r>=t&&r<=a}),t,a),i=ze()(t).set({month:0,date:1,hour:0,minute:0,second:0}),o=e.filter(function(e){var a=ze()(e[V]);return null!=e[J]&&a<t&&a>=i}),l=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W],v=ze()(d[K]);if((Qe(h)||h===Ve||(h===Je||h===We)&&v>=t)&&f[B]++,(Qe(h)||h==Ve||(h===We||h===Je)&&v>a)&&f[O]++,Qe(h)&&h.indexOf(qe)>0&&f[N]++,h===Ve&&f[S]++,h==Ue&&f[C]++,(h===Je||h===We)&&v>=t&&v<=a&&f[F]++,h===Je&&v>=t&&v<=a&&f[k]++,h===We&&v>=t&&v<=a&&f[_]++,h!==Je&&h!==We||d[U]!==$e||v>=t&&v<=a&&f[A]++,Qe(h)||h===Ve||(h===Je||h===We)&&v>=t&&v<=a){var m=Be(d[$]),p=m.day,y=m.hour,D=m.min;24*p*60+60*y+D<=30&&f[H]++,24*p*60+60*y+D<=1800&&f[I]++}if(h===Je||h===We){var b=ze()(d[K]);if(b>=t&&b<=a){var P=Be(d[G]),E=P.day,x=P.hour,Y=P.min;f[L]+=E+x/24+Y/60/24}}if(Qe(h)||h===Ve||(h===We||h===Je)&&v>a){var j=Be(d[G]),R=j.day,g=j.hour,T=j.min;f[z]+=R+g/24+T/60/24}}}catch(me){o=!0,l=me}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var w in r){var V=!0,Q=!1,Z=void 0;try{for(var te,ae=ee[Symbol.iterator]();!(V=(te=ae.next()).done);V=!0){var re=te.value,ie=!0,oe=!1,le=void 0;try{for(var ne,se=M[Symbol.iterator]();!(ie=(ne=se.next()).done);ie=!0){var de=ne.value;r[w][X][de]+=r[w][re][de]}}catch(me){oe=!0,le=me}finally{try{ie||null==se.return||se.return()}finally{if(oe)throw le}}}}catch(me){Q=!0,Z=me}finally{try{V||null==ae.return||ae.return()}finally{if(Q)throw Z}}for(var ce in r[w]){var ue=r[w][ce][L],fe=r[w][ce][F];r[w][ce][L]=fe>0?Number(ue/fe).toFixed(2):0;var he=r[w][ce][z],ve=r[w][ce][O];r[w][ce][z]=ve>0?Number(he/ve).toFixed(2):0}}return r}(o,t,a),n=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W];ze()(d[K]),(Qe(h)||h===Ve||h===Je||h===We)&&f[B]++,(Qe(h)||h===We||h===Je||h===Ve||h==Ue)&&f[w]++}}catch(T){o=!0,l=T}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var v in r){var m=!0,p=!1,y=void 0;try{for(var D,b=ee[Symbol.iterator]();!(m=(D=b.next()).done);m=!0){var P=D.value,E=!0,x=!1,Y=void 0;try{for(var j,R=M[Symbol.iterator]();!(E=(j=R.next()).done);E=!0){var g=j.value;r[v][X][g]+=r[v][P][g]}}catch(T){x=!0,Y=T}finally{try{E||null==R.return||R.return()}finally{if(x)throw Y}}}}catch(T){p=!0,y=T}finally{try{m||null==b.return||b.return()}finally{if(p)throw y}}}return r}(o),s=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W],v=ze()(d[K]);if((Qe(h)||h===Ve||(h===Je||h===We)&&v>=t)&&f[B]++,(Qe(h)||h==Ve||(h===We||h===Je)&&v>a)&&f[O]++,Qe(h)&&h.indexOf(qe)>0&&f[N]++,h===Ve&&f[S]++,h==Ue&&f[C]++,(h===Je||h===We)&&v>=t&&v<=a&&f[F]++,h===Je&&v>=t&&v<=a&&f[k]++,h===We&&v>=t&&v<=a&&f[_]++,(h===Je||h===We)&&v>=t&&v<=a&&d[U]===$e&&f[A]++,Qe(h)||h===Ve||(h===Je||h===We)&&v>=t){var m=Be(d[$]),p=m.day,y=m.hour,D=m.min;24*p*60+60*y+D<=30&&f[H]++,24*p*60+60*y+D<=1800&&f[I]++}if((h===Je||h===We)&&v>=t&&v<=a){var b=Be(d[G]),P=b.day,E=b.hour,x=b.min;f[L]+=P+E/24+x/60/24}if(Qe(h)||h===Ve||(h===We||h===Je)&&v>a){var Y=Be(d[G]),j=Y.day,R=Y.hour,g=Y.min;f[z]+=j+R/24+g/60/24}(Qe(h)||h===Ve||h==Ue||(h===Je||h===We)&&v>=t)&&f[w]++}}catch(me){o=!0,l=me}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var T in r){var V=!0,Q=!1,Z=void 0;try{for(var te,ae=ee[Symbol.iterator]();!(V=(te=ae.next()).done);V=!0){var re=te.value,ie=!0,oe=!1,le=void 0;try{for(var ne,se=M[Symbol.iterator]();!(ie=(ne=se.next()).done);ie=!0){var de=ne.value;r[T][X][de]+=r[T][re][de]}}catch(me){oe=!0,le=me}finally{try{ie||null==se.return||se.return()}finally{if(oe)throw le}}}}catch(me){Q=!0,Z=me}finally{try{V||null==ae.return||ae.return()}finally{if(Q)throw Z}}for(var ce in r[T]){var ue=r[T][ce][L],fe=r[T][ce][F];r[T][ce][L]=fe>0?Number(ue/fe).toFixed(2):0;var he=r[T][ce][z],ve=r[T][ce][O];r[T][ce][z]=ve>0?Number(he/ve).toFixed(2):0}}return r}(e.filter(function(e){var t=ze()(e[V]);return null!=e[J]&&t<=a&&t>=i}),i,a),d=e.filter(function(e){var t=ze()(e[V]);return null!=e[J]&&t<i}),c=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W],v=ze()(d[K]);if((Qe(h)||h===Ve||(h===Je||h===We)&&v>=t)&&f[B]++,(Qe(h)||h==Ve||(h===We||h===Je)&&v>a)&&f[O]++,Qe(h)&&h.indexOf(qe)>0&&f[N]++,h===Ve&&f[S]++,h==Ue&&f[C]++,(h===Je||h===We)&&v>=t&&v<=a&&f[F]++,h===Je&&v>=t&&v<=a&&f[k]++,h===We&&v>=t&&v<=a&&f[_]++,h!==Je&&h!==We||d[U]!==$e||v>=t&&v<=a&&f[A]++,Qe(h)||h===Ve||(h===Je||h===We)&&v>=t){var m=Be(d[$]),p=m.day,y=m.hour,D=m.min;24*p*60+60*y+D<=30&&f[H]++,24*p*60+60*y+D<=1800&&f[I]++}if((h===Je||h===We)&&v>=t&&v<=a){var b=Be(d[G]),P=b.day,E=b.hour,x=b.min;f[L]+=P+E/24+x/60/24}if(Qe(h)||h===Ve||(h===We||h===Je)&&v>a){var Y=Be(d[G]),j=Y.day,R=Y.hour,g=Y.min;f[z]+=j+R/24+g/60/24}}}catch(ve){o=!0,l=ve}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var T in r){var w=!0,V=!1,Q=void 0;try{for(var Z,te=ee[Symbol.iterator]();!(w=(Z=te.next()).done);w=!0){var ae=Z.value,re=!0,ie=!1,oe=void 0;try{for(var le,ne=M[Symbol.iterator]();!(re=(le=ne.next()).done);re=!0){var se=le.value;r[T][X][se]+=r[T][ae][se]}}catch(ve){ie=!0,oe=ve}finally{try{re||null==ne.return||ne.return()}finally{if(ie)throw oe}}}}catch(ve){V=!0,Q=ve}finally{try{w||null==te.return||te.return()}finally{if(V)throw Q}}for(var de in r[T]){var ce=r[T][de][L],ue=r[T][de][F];r[T][de][L]=ue>0?Number(ce/ue).toFixed(2):0;var fe=r[T][de][z],he=r[T][de][O];r[T][de][z]=he>0?Number(fe/he).toFixed(2):0}}return r}(d,t,a),u=function(e,t,a){var r={},i=!0,o=!1,l=void 0;try{for(var n,s=e[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var d=n.value,c=we(d[q]);null==r[c]&&(r[c]=Ke());var u=d[J],f=r[c][u],h=d[W],v=ze()(d[K]);if((Qe(h)||h===Ve||(h===Je||h===We)&&v>=t)&&f[B]++,(Qe(h)||h==Ve||(h===We||h===Je)&&v>a)&&f[O]++,Qe(h)&&h.indexOf(qe)>0&&f[N]++,h===Ve&&f[S]++,h==Ue&&f[C]++,(h===Je||h===We)&&v>=t&&v<=a&&f[F]++,h===Je&&v>=t&&v<=a&&f[k]++,h===We&&v>=t&&v<=a&&f[_]++,h!==Je&&h!==We||d[U]!==$e||v>=t&&v<=a&&f[A]++,Qe(h)||h===Ve||(h===Je||h===We)&&v>=t){var m=Be(d[$]),p=m.day,y=m.hour,D=m.min;24*p*60+60*y+D<=30&&f[H]++,24*p*60+60*y+D<=1800&&f[I]++}if((h===Je||h===We)&&v>=t&&v<=a){var b=Be(d[G]),P=b.day,E=b.hour,x=b.min;f[L]+=P+E/24+x/60/24}if(Qe(h)||h===Ve||(h===We||h===Je)&&v>a){var Y=Be(d[G]),j=Y.day,R=Y.hour,g=Y.min;f[z]+=j+R/24+g/60/24}}}catch(ve){o=!0,l=ve}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}for(var T in r){var w=!0,V=!1,Q=void 0;try{for(var Z,te=ee[Symbol.iterator]();!(w=(Z=te.next()).done);w=!0){var ae=Z.value,re=!0,ie=!1,oe=void 0;try{for(var le,ne=M[Symbol.iterator]();!(re=(le=ne.next()).done);re=!0){var se=le.value;r[T][X][se]+=r[T][ae][se]}}catch(ve){ie=!0,oe=ve}finally{try{re||null==ne.return||ne.return()}finally{if(ie)throw oe}}}}catch(ve){V=!0,Q=ve}finally{try{w||null==te.return||te.return()}finally{if(V)throw Q}}for(var de in r[T]){var ce=r[T][de][L],ue=r[T][de][F];r[T][de][L]=ue>0?Number(ce/ue).toFixed(2):0;var fe=r[T][de][z],he=r[T][de][O];r[T][de][z]=he>0?Number(fe/he).toFixed(2):0}}return r}(d,i,a),f={};for(var h in[r,l,c].forEach(function(e){for(var t in e){null==f[t]&&(f[t]=Ke());for(var a=Object(b.a)(ee).concat([X]),r=0;r<a.length;r++){var i=a[r],o=!0,l=!1,n=void 0;try{for(var s,d=M[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var c=s.value;if(c===L){var u=e[t][i][F],h=e[t][i][L];f[t][i][L]+=u*h}else if(c===z){var v=e[t][i][z],m=e[t][i][O];f[t][i][z]+=m*v}else f[t][i][c]+=e[t][i][c]}}catch(p){l=!0,n=p}finally{try{o||null==d.return||d.return()}finally{if(l)throw n}}}}}),f)for(var v in f[h]){var m=f[h][v][L],p=f[h][v][F];f[h][v][L]=p>0?Number(m/p).toFixed(2):0;var y=f[h][v][z],D=f[h][v][O];f[h][v][z]=D>0?Number(y/D).toFixed(2):0}var P={};for(var E in[u,s].forEach(function(e){for(var t in e){null==P[t]&&(P[t]=Ke());for(var a=Object(b.a)(ee).concat([X]),r=0;r<a.length;r++){var i=a[r],o=!0,l=!1,n=void 0;try{for(var s,d=M[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var c=s.value;if(c===L){var u=e[t][i][F],f=e[t][i][L];P[t][i][L]+=u*f}else if(c===z){var h=e[t][i][z],v=e[t][i][O];P[t][i][z]+=v*h}else P[t][i][c]+=e[t][i][c]}}catch(m){l=!0,n=m}finally{try{o||null==d.return||d.return()}finally{if(l)throw n}}}}}),P)for(var x in P[E]){var Y=P[E][x][L],j=P[E][x][F];P[E][x][L]=j>0?Number(Y/j).toFixed(2):0;var R=P[E][x][z],g=P[E][x][O];P[E][x][z]=g>0?Number(R/g).toFixed(2):0}var T={};Xe(r,te,T),Xe(l,ae,T),Xe(f,re,T),Xe(r,ie,T),Xe(r,oe,T),Xe(f,le,T),Xe(P,ne,T);var Q={periodNewAddedResult:r,thisYearBeforePeriodResult:l,thisYearBeforePeriodTotalResult:n,lastYearBeforePeriodResult:c,lastYearBeforePeriodTotalResult:u,beforePeriodNeedHandleResult:f,thisYearTotalResult:s,periodTotalResult:P,rateResult:T},Z={periodNewAddedResult:rt([r],Oe),thisYearBeforePeriodResult:rt([l],Oe),thisYearBeforePeriodTotalResult:rt([n],Oe),thisYearTotalResult:rt([s],Oe),lastYearBeforePeriodResult:rt([c],Oe),lastYearBeforePeriodTotalResult:rt([u],Oe),beforePeriodNeedHandleResult:rt([f],Oe),periodTotalResult:rt([P],Oe)},se={};Xe(Z.periodNewAddedResult,te,se),Xe(Z.thisYearBeforePeriodResult,ae,se),Xe(Z.beforePeriodNeedHandleResult,re,se),Xe(Z.periodNewAddedResult,ie,se),Xe(Z.periodNewAddedResult,oe,se),Xe(Z.beforePeriodNeedHandleResult,le,se),Xe(Z.periodTotalResult,ne,se),Z.rateResult=se;var de={periodNewAddedResult:it([Z.periodNewAddedResult]),thisYearBeforePeriodResult:it([Z.thisYearBeforePeriodResult]),thisYearBeforePeriodTotalResult:it([Z.thisYearBeforePeriodTotalResult]),thisYearTotalResult:it([Z.thisYearTotalResult]),lastYearBeforePeriodResult:it([Z.lastYearBeforePeriodResult]),lastYearBeforePeriodTotalResult:it([Z.lastYearBeforePeriodTotalResult]),beforePeriodNeedHandleResult:it([Z.beforePeriodNeedHandleResult]),periodTotalResult:it([Z.periodTotalResult])},ce={};return Ze(de.periodNewAddedResult,te,ce),Ze(de.thisYearBeforePeriodResult,ae,ce),Ze(de.beforePeriodNeedHandleResult,re,ce),Ze(de.periodNewAddedResult,ie,ce),Ze(de.periodNewAddedResult,oe,ce),Ze(de.beforePeriodNeedHandleResult,le,ce),Ze(de.periodTotalResult,ne,ce),de.rateResult=ce,{stageResult:Q,projectResult:Z,cityResult:de}}var lt=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(y.a)(t).call(this,e))).start=function(e,t,r){a.setState({loading:!0}),function(e){return new Promise(function(t,a){var r=new FileReader,i={};!function a(o){o<e.length?(r.onload=function(t){var r=Ae.a.read(t.target.result,{type:"binary"}),l=r.Sheets[r.SheetNames[0]],n=e[o].name.substring(0,e[o].name.indexOf("."));i[n]=Ae.a.utils.sheet_to_json(l,{blankrows:!1}),a(o+1)},r.readAsBinaryString(e[o])):t(i)}(0)})}(e).then(function(e){a.setState({cityData:{periodNewAddedData:[],thisYearBeforePeriodData:[],thisYearBeforePeriodTotalData:[],thisYearTotalData:[],lastYearBeforePeriodData:[],lastYearBeforePeriodTotalData:[],beforePeriodNeedHandleData:[],periodTotalData:[],rateData:[],cities:[]},projectData:{},stageResult:{}});var i=[],o={},l=function(l){i.push(l);var n=ot(e[l],t,r);o[l]=n.cityResult,a.setState(function(e){return{cityData:{periodNewAddedData:Object(b.a)(e.cityData.periodNewAddedData).concat(Object(b.a)(tt(n.cityResult.periodNewAddedResult,l))),thisYearBeforePeriodData:Object(b.a)(e.cityData.thisYearBeforePeriodData).concat(Object(b.a)(tt(n.cityResult.thisYearBeforePeriodResult,l))),thisYearBeforePeriodTotalData:Object(b.a)(e.cityData.thisYearBeforePeriodTotalData).concat(Object(b.a)(tt(n.cityResult.thisYearBeforePeriodTotalResult,l))),thisYearTotalData:Object(b.a)(e.cityData.thisYearTotalData).concat(Object(b.a)(tt(n.cityResult.thisYearTotalResult,l))),lastYearBeforePeriodData:Object(b.a)(e.cityData.lastYearBeforePeriodData).concat(Object(b.a)(tt(n.cityResult.lastYearBeforePeriodResult,l))),lastYearBeforePeriodTotalData:Object(b.a)(e.cityData.lastYearBeforePeriodTotalData).concat(Object(b.a)(tt(n.cityResult.lastYearBeforePeriodTotalResult,l))),beforePeriodNeedHandleData:Object(b.a)(e.cityData.beforePeriodNeedHandleData).concat(Object(b.a)(tt(n.cityResult.beforePeriodNeedHandleResult,l))),periodTotalData:Object(b.a)(e.cityData.periodTotalData).concat(Object(b.a)(tt(n.cityResult.periodTotalResult,l))),rateData:Object(b.a)(e.cityData.rateData).concat(Object(b.a)(at(n.cityResult.rateResult,l))),cities:i}}}),a.setState(function(e){return{projectData:Object(h.a)({},e.projectData,Object(f.a)({},l,n.projectResult))}}),a.setState(function(e){return{stageResult:Object(h.a)({},e.stageResult,Object(f.a)({},l,n.stageResult))}})};for(var n in e)l(n);var s={periodNewAddedResult:Ke(),thisYearBeforePeriodResult:Ke(),thisYearBeforePeriodTotalResult:Ke(),thisYearTotalResult:Ke(),lastYearBeforePeriodResult:Ke(),lastYearBeforePeriodTotalResult:Ke(),beforePeriodNeedHandleResult:Ke(),periodTotalResult:Ke()};for(var d in s)for(var n in o)for(var c in s[d]){var u=o[n][d][c];for(var v in u)if(v===L){var m=u[F],p=u[L];s[d][c][L]+=m*p}else if(v===z){var y=u[z],D=u[O];s[d][c][z]+=D*y}else s[d][c][v]+=u[v]}for(var P in s)for(var E in s[P]){var x=s[P][E][L],Y=s[P][E][F];s[P][E][L]=Y>0?Number(x/Y).toFixed(2):0;var j=s[P][E][z],R=s[P][E][O];s[P][E][z]=R>0?Number(j/R).toFixed(2):0}a.setState({areaData:{periodNewAddedData:Se(s.periodNewAddedResult),thisYearBeforePeriodData:Se(s.thisYearBeforePeriodResult),thisYearBeforePeriodTotalData:Se(s.thisYearBeforePeriodTotalResult),thisYearTotalData:Se(s.thisYearTotalResult),lastYearBeforePeriodData:Se(s.lastYearBeforePeriodResult),lastYearBeforePeriodTotalData:Se(s.lastYearBeforePeriodTotalResult),beforePeriodNeedHandleData:Se(s.beforePeriodNeedHandleResult),periodTotalData:Se(s.periodTotalResult),rateData:[]}}),a.setState({loading:!1})})},a.exportExcel=function(){var e=[q,Q].concat(Object(b.a)(ee),[X]);if(a.state.newAddedData.length>0||a.state.thisYearBeforeStartData.length>0||a.state.thisYearBeforePeriodTotalData.length>0||a.state.thisYearTotalData.length>0||a.state.lastYearBeforePeriodData.length>0||a.state.lastYearBeforePeriodTotalData.length>0||a.state.beforePeriodNeedHandleData.length>0||a.state.periodTotalData.length>0){var t=Ae.a.utils.json_to_sheet(a.state.periodNewAddedData,{header:e}),r=Ae.a.utils.json_to_sheet(a.state.thisYearBeforePeriodData,{header:e}),i=Ae.a.utils.json_to_sheet(a.state.thisYearBeforePeriodTotalData,{header:e}),o=Ae.a.utils.json_to_sheet(a.state.thisYearTotalData,{header:e}),l=Ae.a.utils.json_to_sheet(a.state.lastYearBeforePeriodData,{header:e}),n=Ae.a.utils.json_to_sheet(a.state.lastYearBeforePeriodTotalData,{header:e}),s=Ae.a.utils.json_to_sheet(a.state.beforePeriodNeedHandleData,{header:e}),d=Ae.a.utils.json_to_sheet(a.state.periodTotalData,{header:e}),c=Ae.a.utils.json_to_sheet(a.state.rateData,{header:e}),f=Ae.a.utils.book_new();Ae.a.utils.book_append_sheet(f,t,de),Ae.a.utils.book_append_sheet(f,r,ce),Ae.a.utils.book_append_sheet(f,i,ue),Ae.a.utils.book_append_sheet(f,o,fe),Ae.a.utils.book_append_sheet(f,l,he),Ae.a.utils.book_append_sheet(f,n,ve),Ae.a.utils.book_append_sheet(f,s,me),Ae.a.utils.book_append_sheet(f,d,pe),Ae.a.utils.book_append_sheet(f,c,ye),Ae.a.writeFile(f,"statistic-"+ze()(Date.now()).format("YYYY-MM-DD-HH-MM-SS")+".xlsx")}else u.a.error("\u8bf7\u5148\u70b9\u51fb\u201c\u5f00\u59cb\u7edf\u8ba1\u201d\u6309\u94ae\u8fdb\u884c\u7edf\u8ba1\uff01")},a.state={cityData:{periodNewAddedData:[],thisYearBeforePeriodData:[],thisYearBeforePeriodTotalData:[],thisYearTotalData:[],lastYearBeforePeriodData:[],lastYearBeforePeriodTotalData:[],beforePeriodNeedHandleData:[],periodTotalData:[],rateData:[],cities:[]},areaData:{periodNewAddedData:[],thisYearBeforePeriodData:[],thisYearBeforePeriodTotalData:[],thisYearTotalData:[],lastYearBeforePeriodData:[],lastYearBeforePeriodTotalData:[],beforePeriodNeedHandleData:[],periodTotalData:[],rateData:[]},loading:!1},a}return Object(D.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=i.a.createElement(Pe,{periodNewAddedData:this.state.areaData.periodNewAddedData,thisYearBeforePeriodData:this.state.areaData.thisYearBeforePeriodData,thisYearBeforePeriodTotalData:this.state.areaData.thisYearBeforePeriodTotalData,thisYearTotalData:this.state.areaData.thisYearTotalData,lastYearBeforePeriodData:this.state.areaData.lastYearBeforePeriodData,lastYearBeforePeriodTotalData:this.state.areaData.lastYearBeforePeriodTotalData,beforePeriodNeedHandleData:this.state.areaData.beforePeriodNeedHandleData,periodTotalData:this.state.areaData.periodTotalData,rateData:this.state.areaData.rateData}),t=i.a.createElement(Re,{periodNewAddedData:this.state.cityData.periodNewAddedData,thisYearBeforePeriodData:this.state.cityData.thisYearBeforePeriodData,thisYearBeforePeriodTotalData:this.state.cityData.thisYearBeforePeriodTotalData,thisYearTotalData:this.state.cityData.thisYearTotalData,lastYearBeforePeriodData:this.state.cityData.lastYearBeforePeriodData,lastYearBeforePeriodTotalData:this.state.cityData.lastYearBeforePeriodTotalData,beforePeriodNeedHandleData:this.state.cityData.beforePeriodNeedHandleData,periodTotalData:this.state.cityData.periodTotalData,rateData:this.state.cityData.rateData,cities:this.state.cityData.cities}),a=i.a.createElement(ke,{cities:this.state.cityData.cities,projectData:this.state.projectData}),r=i.a.createElement(ke,{cities:this.state.cityData.cities,projectData:this.state.stageResult});return i.a.createElement(n.a,{locale:Ie.a},i.a.createElement("div",null,i.a.createElement("h2",{className:"text--center heading"},"\u7edf\u8ba1\u8f85\u52a9\u5de5\u5177"),i.a.createElement(g,{onStart:this.start,onExport:this.exportExcel,loading:this.state.loading}),i.a.createElement(s.a,{style:{margin:"40px 0"}},i.a.createElement(d.a,{span:22,offset:1},i.a.createElement(c.a,{type:"card"},i.a.createElement(c.a.TabPane,{tab:"\u5927\u533a",key:"\u5927\u533a"},e),i.a.createElement(c.a.TabPane,{tab:"\u57ce\u5e02",key:"\u57ce\u5e02"},t),i.a.createElement(c.a.TabPane,{tab:"\u9879\u76ee",key:"\u9879\u76ee"},a),i.a.createElement(c.a.TabPane,{tab:"\u5206\u671f",key:"\u5206\u671f"},r))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[211,2,1]]]);
//# sourceMappingURL=main.70f37a88.chunk.js.map